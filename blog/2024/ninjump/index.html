<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Building a platformer game</title>
<style>.container{margin:0 auto;max-width:960px;padding:0 20px;position:relative}.column,.columns,.container{box-sizing:border-box;width:100%}.column,.columns{float:left}@media (min-width:400px){.container{padding:0;width:85%}}@media (min-width:550px){.container{width:80%}.column,.columns{margin-left:4%}.column:first-child,.columns:first-child{margin-left:0}.one.column,.one.columns{width:4.66666666667%}.two.columns{width:13.3333333333%}.three.columns{width:22%}.four.columns{width:30.6666666667%}.five.columns{width:39.3333333333%}.six.columns{width:48%}.seven.columns{width:56.6666666667%}.eight.columns{width:65.3333333333%}.nine.columns{width:74%}.ten.columns{width:82.6666666667%}.eleven.columns{width:91.3333333333%}.twelve.columns{margin-left:0;width:100%}.one-third.column{width:30.6666666667%}.two-thirds.column{width:65.3333333333%}.one-half.column{width:48%}.offset-by-one.column,.offset-by-one.columns{margin-left:8.66666666667%}.offset-by-two.column,.offset-by-two.columns{margin-left:17.3333333333%}.offset-by-three.column,.offset-by-three.columns{margin-left:26%}.offset-by-four.column,.offset-by-four.columns{margin-left:34.6666666667%}.offset-by-five.column,.offset-by-five.columns{margin-left:43.3333333333%}.offset-by-six.column,.offset-by-six.columns{margin-left:52%}.offset-by-seven.column,.offset-by-seven.columns{margin-left:60.6666666667%}.offset-by-eight.column,.offset-by-eight.columns{margin-left:69.3333333333%}.offset-by-nine.column,.offset-by-nine.columns{margin-left:78%}.offset-by-ten.column,.offset-by-ten.columns{margin-left:86.6666666667%}.offset-by-eleven.column,.offset-by-eleven.columns{margin-left:95.3333333333%}.offset-by-one-third.column,.offset-by-one-third.columns{margin-left:34.6666666667%}.offset-by-two-thirds.column,.offset-by-two-thirds.columns{margin-left:69.3333333333%}.offset-by-one-half.column,.offset-by-one-half.columns{margin-left:52%}}html{font-size:62.5%}body{background-color:#fcf2ec;color:#222;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:1.2em;font-weight:400;line-height:1.6;padding:2%}.dark-mode body{background-color:#222;color:#ebf4f1}h1,h2,h3,h4,h5,h6{font-weight:400;margin-bottom:2rem;margin-top:0;text-align:left}h1,h1>a{font-size:2.8rem;line-height:1.2}h1,h1>a,h2,h2>a{letter-spacing:-.1rem}h2,h2>a{font-size:2.4rem;line-height:1.25}h3,h3>a{font-size:2.2rem;letter-spacing:-.1rem;line-height:1.3}h4,h4>a{font-size:2rem;letter-spacing:-.08rem;line-height:1.35}h5,h5>a{font-size:1.8rem;letter-spacing:-.05rem;line-height:1.5}h6,h6>a{font-size:1.6rem;letter-spacing:0;line-height:1.6}@media (min-width:550px){h1,h1>a{font-size:2.8rem}h2,h2>a{font-size:2.4rem}h3,h3>a{font-size:2.2rem}h4,h4>a{font-size:2rem}h5,h5>a{font-size:1.8rem}h6,h6>a{font-size:1.6rem}}p{font-size:1.2rem;margin-top:0}.dark-mode a,.dark-mode nav>ul>li>a,a,nav>ul>li>a{color:inherit;text-decoration:none}a:hover{opacity:70%}ol>li>a,ol>strong>a,p>a,ul>li>a{color:#556b2f;font-weight:700;text-decoration:underline}.dark-mode ol>li>a,.dark-mode ol>strong>a,.dark-mode p>a,.dark-mode ul>li>a{color:#6e8b3d;font-weight:700;text-decoration:underline}.button,button,input[type=button],input[type=reset],input[type=submit]{background-color:transparent;border:1px solid #bbb;border-radius:4px;box-sizing:border-box;color:#555;cursor:pointer;display:inline-block;font-size:11px;font-weight:600;height:38px;letter-spacing:.1rem;line-height:38px;padding:0 30px;text-align:center;text-decoration:none;text-transform:uppercase;white-space:nowrap}.button:focus,.button:hover,button:focus,button:hover,input[type=button]:focus,input[type=button]:hover,input[type=reset]:focus,input[type=reset]:hover,input[type=submit]:focus,input[type=submit]:hover{border-color:#888;color:#333;outline:0}.button.button-primary,button.button-primary,input[type=button].button-primary,input[type=reset].button-primary,input[type=submit].button-primary{background-color:#33c3f0;border-color:#33c3f0;color:#fff}.button.button-primary:focus,.button.button-primary:hover,button.button-primary:focus,button.button-primary:hover,input[type=button].button-primary:focus,input[type=button].button-primary:hover,input[type=reset].button-primary:focus,input[type=reset].button-primary:hover,input[type=submit].button-primary:focus,input[type=submit].button-primary:hover{background-color:#1eaedb;border-color:#1eaedb;color:#fff}input[type=email],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=url],select,textarea{background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box;height:38px;padding:6px 10px}input[type=email],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=url],textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{min-height:65px;padding-bottom:6px;padding-top:6px}input[type=email]:focus,input[type=number]:focus,input[type=password]:focus,input[type=search]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=url]:focus,select:focus,textarea:focus{border:1px solid #33c3f0;outline:0}label,legend{display:block;font-weight:600;margin-bottom:.5rem}fieldset{border-width:0;padding:0}input[type=checkbox],input[type=radio]{display:inline}label>.label-body{display:inline-block;font-weight:400;margin-left:.5rem}ul{list-style:none}ol{list-style:decimal inside}ol,ul{margin-top:0;padding-left:0}ol ol,ol ul,ul ol,ul ul{font-size:90%;margin:1.5rem 0 1.5rem 3rem}li{margin-bottom:1rem}code{font-size:1.25rem;font-weight:700;margin:0 .2rem;white-space:nowrap}pre>code{background:#373737;border:none;border-radius:8px;color:#f5f5f5;display:block;overflow-x:auto;padding:1rem 1.5rem;white-space:pre}.highlight{border:1px solid #e1e1e1;border-radius:10px;font-size:larger;max-width:-moz-fit-content;max-width:fit-content}td,th{border-bottom:1px solid #e1e1e1;padding:12px 15px;text-align:left}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}.button,button{margin-bottom:1rem}fieldset,input,select,textarea{margin-bottom:1.5rem}blockquote,dl,figure,form,ol,p,pre,table,ul{margin-bottom:2.5rem}.u-full-width{box-sizing:border-box;width:100%}.u-max-full-width{box-sizing:border-box;max-width:100%}.u-pull-right{float:right}.u-pull-left{float:left}hr{border-width:0;border-top:1px solid #e1e1e1;margin-bottom:3.5rem;margin-top:3rem}.container:after,.row:after,.u-cf{clear:both;content:"";display:table}footer,footer>a{font-size:1.1rem;text-align:center}.dark-mode footer>p>a{color:#cecece}nav{justify-content:center;width:80%}#nav-button{font-weight:inherit}#nav-button:hover{opacity:.5;text-decoration:underline}#avatar{border-radius:20%;margin-bottom:20px;max-width:180px;width:80%}#name{font-size:medium;font-weight:bolder}#bio,#name{text-align:center;width:80%}#bio{font-size:95%}#socials{padding:5% 0;text-align:center}.icon{font-size:20px;height:20px;margin:0 4%;width:20px}.icon:hover{opacity:.8}.util-icon{cursor:pointer;opacity:.5}.dark-mode .icon{color:#f5f5f5}#github-icon:hover,.dark-mode #github-icon:hover{color:dimgray}#instagram-icon:hover,.dark-mode #instagram-icon:hover{color:#c71585}#linkedin-icon:hover,.dark-mode #linkedin-icon:hover{color:#4682b4}blockquote{border-left:1.5px solid #444;color:#444;padding-left:20px;text-align:left}.dark-mode blockquote{color:#999}sup{font-size:.8rem;font-weight:bolder;padding-left:2px}sup>a{font-size:.9rem}.dark-mode .svg{filter:invert(1)}img{display:block;margin-left:auto;margin-right:auto;max-width:95%}</style>
<style>*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.delimiter{border:.5px dashed #555;width:60%}.chip{background:#a0c8fa1a;border-radius:4px;cursor:pointer;font-size:1.2rem;margin:0 .2rem;padding:.2rem .5rem}.chip:hover{opacity:.7}.tags{display:inline-block;padding-bottom:4px}</style>
<style>[data-v-62828f40] li{list-style:square;margin-bottom:.4rem;margin-left:2rem}[data-v-62828f40] .header{align-items:center;display:flex;justify-content:space-between;width:100%}[data-v-62828f40] .toc-links *{list-style:none}[data-v-62828f40] .toc-toggle{border:1px solid #888;border-radius:4px;cursor:pointer;font-size:90%;margin-bottom:16px;padding:4px;-webkit-user-select:none;-moz-user-select:none;user-select:none}[data-v-62828f40] .toc-toggle:hover{color:#d3d3d3}[data-v-62828f40] .footnotes{margin-top:20px;padding-top:12px;width:-moz-fit-content;width:fit-content}[data-v-62828f40] .footnotes:before{border-bottom:1px dotted;content:"References";display:block;font-size:1.1rem;margin-bottom:6px}[data-v-62828f40] .footnotes *{color:inherit;font-size:1.1rem;font-weight:400;list-style:decimal}[data-v-62828f40] table{border-collapse:collapse;margin-left:auto;margin-right:auto}[data-v-62828f40] table *{font-size:1.1rem;padding:8px 10px;text-align:center}[data-v-62828f40] th{border:1px solid #a9a9a9}[data-v-62828f40] td{border:1px dotted}[data-v-62828f40] td>a{text-decoration:underline}[data-v-62828f40] td>a:hover{opacity:.5}[data-v-62828f40] figure{display:flex;justify-content:center;margin:auto;padding-bottom:2%;width:90%}[data-v-62828f40] .figure-image{width:inherit}[data-v-62828f40] .figure-caption{border-top:1px solid gray;display:block;font-size:smaller;margin:auto;padding:2% 4% 6%;text-align:center;width:-moz-fit-content;width:fit-content}[data-v-62828f40] .snippet{background-color:rgba(106,142,35,.5);border-radius:4px;cursor:pointer;padding:2px}[data-v-62828f40] .snippet:hover{opacity:.5}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<link rel="stylesheet" href="/_nuxt/ProsePre.CchFRBtv.css">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/blog/2024/ninjump/_payload.json?779fd26d-f086-4fcc-9b46-89e6feb13a04">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DhFzIRcp.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B-J4td5x.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BZgqGLCs.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Q4DFxoMT.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/rRVzqD1o.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/6CCsQ6kW.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C-v3KzvZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dnd51l0P.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BWnpENci.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/UFIaDwDG.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C9qFDHrK.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/vXYcVh4O.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/wLpKSaeH.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BhD7aYaO.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/3Q3RxVak.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DYHflUPV.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BlXubYNm.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DCawY0M8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/hZGDpBP1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cz4rWFhX.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DAaraRxW.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/d0EWbAJF.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/3-8kgkbj.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/54nRS35v.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D__YjHIV.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ClMD9Duc.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BfoJ4Yqk.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ttDtB7hC.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/tLvFhkqG.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B8ghszS7.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/C17eTT5B.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/RGx4xhhB.js">
<link rel="prefetch" as="image" type="image/png" href="/_nuxt/avatar.BIW1al4W.png">
<meta property="og:title" content="Building a platformer game">
<meta name="description" content="Creating a simple platformer game using Kaboom.js">
<meta property="og:description" content="Creating a simple platformer game using Kaboom.js">
<script type="module" src="/_nuxt/DhFzIRcp.js" crossorigin></script><script>"use strict";(()=>{const a=window,e=document.documentElement,c=window.localStorage,d=["dark","light"],n=c&&c.getItem&&c.getItem("nuxt-color-mode")||"light";let l=n==="system"?f():n;const i=e.getAttribute("data-color-mode-forced");i&&(l=i),r(l),a["__NUXT_COLOR_MODE__"]={preference:n,value:l,getColorScheme:f,addColorScheme:r,removeColorScheme:u};function r(o){const t=""+o+"-mode",s="";e.classList?e.classList.add(t):e.className+=" "+t,s&&e.setAttribute("data-"+s,o)}function u(o){const t=""+o+"-mode",s="";e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t,"g"),""),s&&e.removeAttribute("data-"+s)}function m(o){return a.matchMedia("(prefers-color-scheme"+o+")")}function f(){if(a.matchMedia&&m("").media!=="not all"){for(const o of d)if(m(":"+o).matches)return o}return"light"}})();</script></head><body><div id="__nuxt"><div><div><title>Alexandre Cirilo</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"><div class="container"><div class="row"><div class="three columns" align="center"><header><img id="avatar" alt="👋 Hi, that&#39;s me!" src="/_nuxt/avatar.BIW1al4W.png"><p id="name">Alexandre Cirilo</p><p id="bio">Software engineer based in Amsterdam, the Netherlands.</p><div id="socials"><a id="github-icon" href="https://github.com/alxdrcirilo" target="_blank" rel="icon" class="fab fa-github icon"></a><a id="instagram-icon" href="https://www.instagram.com/alxdrcirilo/" target="_blank" rel="icon" class="fab fa-instagram icon"></a><a id="linkedin-icon" href="https://www.linkedin.com/in/alxdrcirilo/" target="_blank" rel="icon" class="fab fa-linkedin icon"></a></div><div><a rel="icon" class="fas fa-moon icon util-icon"></a><a href="/cv.pdf" rel="icon" class="fas fa-file icon util-icon"></a><a href="/rss.xml" rel="icon" class="fas fa-rss icon util-icon"></a></div><hr class="delimiter"><nav><ul><li><a href="/" class="" id="nav-button">Home</a></li><li><a href="/archive" class="" id="nav-button">Archive</a></li><li><a href="/tags" class="" id="nav-button">Tags</a></li></ul></nav><hr class="delimiter"></header></div><div class="nine columns"><!--[--><div data-v-62828f40><!--[--><header data-v-62828f40><div class="header" data-v-62828f40><h1 style="font-weight:bold;margin:4px 0;" data-v-62828f40>Building a platformer game</h1><a id="github-icon" href="https://github.com/alxdrcirilo/ninjump" target="_blank" rel="icon" class="fab fa-github icon" data-v-62828f40></a></div><p data-v-62828f40>Creating a simple platformer game using Kaboom.js</p><p style="margin:4px 0;" data-v-62828f40><strong data-v-62828f40>Date</strong>: Wed May 08 2024</p><strong data-v-62828f40>Tags</strong>: <!--[--><span data-v-62828f40><!--[--><div class="tags" data-v-62828f40><a href="/search/field?gamedev" class="" data-v-62828f40><code class="chip" style="background-color:tomato;border-radius:4px;color:whitesmoke;font-size:11px;margin-right:10px;" data-v-62828f40>Gamedev</code></a></div><!--]--></span><span data-v-62828f40><!--[--><div class="tags" data-v-62828f40><a href="/search/language?javascript" class="" data-v-62828f40><code class="chip" style="background-color:olivedrab;border-radius:4px;color:whitesmoke;font-size:11px;margin-right:10px;" data-v-62828f40>Javascript</code></a></div><!--]--></span><span data-v-62828f40><!--[--><div class="tags" data-v-62828f40><a href="/search/type?fun" class="" data-v-62828f40><code class="chip" style="background-color:teal;border-radius:4px;color:whitesmoke;font-size:11px;margin-right:10px;" data-v-62828f40>Fun</code></a></div><div class="tags" data-v-62828f40><a href="/search/type?game" class="" data-v-62828f40><code class="chip" style="background-color:teal;border-radius:4px;color:whitesmoke;font-size:11px;margin-right:10px;" data-v-62828f40>Game</code></a></div><!--]--></span><!--]--></header><hr style="margin-bottom:6px;" data-v-62828f40><div data-v-62828f40><div style="display:inline-flex;" data-v-62828f40><!----><p class="toc-toggle" data-v-62828f40> Show <strong data-v-62828f40>Table of Contents</strong></p></div><!----></div><div style="text-align:justify;" data-v-62828f40><p><!--[-->📝 <strong><!--[-->TLDR<!--]--></strong>: I built a game, you can try it out <a href="http://alxdrcirilo.dev/ninjump" rel="nofollow"><!--[-->here<!--]--></a> 🕹️<!--]--></p><h2 id="preface"><a href="#preface"><!--[-->Preface<!--]--></a></h2><p><!--[-->I&#39;ve always enjoyed gaming. From a very young age, I recall playing a myriad of video games on my bulky <a href="https://en.wikipedia.org/wiki/Pentium_II" rel="nofollow"><!--[-->Intel Pentium II<!--]--></a> PC: Flight Simulator 95, Empire Earth, Age of Mythology, Rise of Nations, and many, many more. Over the years, the systems I played on gradually improved, and I found myself discovering and enjoying new genres, with a sweet spot for city building, strategy, and role-playing games. As a kid, the idea of building a video game from scratch always baffled me: &quot;How does it work?&quot;, &quot;What is it made of?&quot;, &quot;How do the moving parts fit together?&quot;; it always seemed so abstract, almost magical. In fact, it was a bit like a black box to me: as a child, all I knew was that I could interact with the game, (e.g. keyboard inputs) and get something out of it (e.g. visual feedback). How the input was processed and the machine produced an output was incomprehensible to me.<!--]--></p><p><!--[-->Nowadays, I know that, as with any other field, game development has its own fundamental rules and mechanics. This blog post focuses on a small game development project. I made this platformer game just for fun and to gauge how difficult it is, in 2024, to build a game from scratch (well, not entirely since I&#39;m using a library that takes care of the big bulk of mechanics required to make a platformer game).<!--]--></p><h2 id="building-ninjump"><a href="#building-ninjump"><!--[-->Building <strong><!--[-->NinJump<!--]--></strong><!--]--></a></h2><h3 id="setting-up-the-requirements"><a href="#setting-up-the-requirements"><!--[-->Setting up the requirements<!--]--></a></h3><p><!--[-->As with any new project I embark on, the first step is to set out on a quest to find the most appropriate set of libraries to use.<!--]--></p><blockquote><!--[--><p><!--[-->As the idiom goes: &quot;We don&#39;t want to reinvent the wheel&quot;.<!--]--></p><!--]--></blockquote><p><!--[-->After some digging around, I settled for the following:<!--]--></p><ul><!--[--><li><!--[-->JavaScript runtime: <a href="https://bun.sh" rel="nofollow"><!--[-->bun<!--]--></a><!--]--></li><li><!--[-->Game programming library: <a href="https://kaboomjs.com" rel="nofollow"><!--[-->Kaboom.js<!--]--></a><!--]--></li><li><!--[-->Assets: <a href="https://pixelfrog-assets.itch.io/pixel-adventure-1" rel="nofollow"><!--[-->Pixel Adventure<!--]--></a><!--]--></li><li><!--[-->Font: <a href="https://fonts.google.com/specimen/Jersey+10" rel="nofollow"><!--[-->Jersey 10<!--]--></a><!--]--></li><!--]--></ul><p><!--[-->The reasons why I went with <strong><!--[-->Kaboom.js<!--]--></strong> are for its apparent ease of use, the provided examples, and for enabling rapid prototyping (that is, even if I ended up disliking it, I could just abandon the project without feeling the remorse of time lost invested in learning it). Another reason was that I wanted to practice my JavaScript skills a bit.<!--]--></p><h3 id="designing-the-welcome-screen"><a href="#designing-the-welcome-screen"><!--[-->Designing the welcome screen<!--]--></a></h3><p><!--[-->The game is set at a resolution of 512x320 pixels. With the <strong><!--[-->Kaboom.js<!--]--></strong> library, we can work with a tilemap<sup><a aria-current="page" href="/blog/2024/ninjump#user-content-fn-3" class="router-link-active router-link-exact-active" aria-describedby="footnote-label" data-footnote-ref id="user-content-fnref-3"><!--[-->1<!--]--></a></sup>; for this game I have defined each tile to be 16x16 pixels.<!--]--></p><p><!--[-->Designing the welcome screen was easier than I anticipated, all it took was designing a small level (i.e. just the background scene), fixing the position of the player, adding some text for the user to know what to do (in this case, pressing <code class=""><!--[-->SPACE<!--]--></code> to start the game, or pressing <code class=""><!--[-->R<!--]--></code> to show the scoring matrix), and lastly, adding a logo! It&#39;s worth saying that the logo was generated using AI.<!--]--></p><p><!--[--><img onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="ninjump" data-nuxt-img srcset="/_ipx/_/images/2024/4.ninjump/ninjump.png 1x, /_ipx/_/images/2024/4.ninjump/ninjump.png 2x" class="" src="/_ipx/_/images/2024/4.ninjump/ninjump.png"><!--]--></p><p class="figure-caption"><!--[--><strong><!--[-->NinJump<!--]--></strong> - Welcome screen.<!--]--></p><h3 id="project-structure"><a href="#project-structure"><!--[-->Project structure<!--]--></a></h3><p><!--[-->In an effort to make the project more modular, and therefore easier to read and maintain, I came up with the following file structure:<!--]--></p><!--[--><pre class="language-shell shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#DCDCAA">src
</span></span><span class="line" line="2"><span style="--shiki-default:#DCDCAA">├──</span><span style="--shiki-default:#CE9178"> config
</span></span><span class="line" line="3"><span style="--shiki-default:#DCDCAA">│  </span><span style="--shiki-default:#CE9178"> └──</span><span style="--shiki-default:#CE9178"> levelConfig.js</span><span style="--shiki-default:#CE9178"> //</span><span style="--shiki-default:#CE9178"> Configuration</span><span style="--shiki-default:#CE9178"> file</span><span style="--shiki-default:#CE9178"> for</span><span style="--shiki-default:#CE9178"> levels
</span></span><span class="line" line="4"><span style="--shiki-default:#DCDCAA">├──</span><span style="--shiki-default:#CE9178"> entities
</span></span><span class="line" line="5"><span style="--shiki-default:#DCDCAA">│  </span><span style="--shiki-default:#CE9178"> └──</span><span style="--shiki-default:#CE9178"> player.js</span><span style="--shiki-default:#CE9178"> //</span><span style="--shiki-default:#CE9178"> Define</span><span style="--shiki-default:#CE9178"> the</span><span style="--shiki-default:#CE9178"> player</span><span style="--shiki-default:#CE9178"> entity
</span></span><span class="line" line="6"><span style="--shiki-default:#DCDCAA">├──</span><span style="--shiki-default:#CE9178"> scenes
</span></span><span class="line" line="7"><span style="--shiki-default:#DCDCAA">│  </span><span style="--shiki-default:#CE9178"> ├──</span><span style="--shiki-default:#CE9178"> controls.js</span><span style="--shiki-default:#CE9178"> //</span><span style="--shiki-default:#CE9178"> Code</span><span style="--shiki-default:#CE9178"> for</span><span style="--shiki-default:#CE9178"> the</span><span style="--shiki-default:#CE9178"> rewards</span><span style="--shiki-default:#CE9178"> scene
</span></span><span class="line" line="8"><span style="--shiki-default:#DCDCAA">│  </span><span style="--shiki-default:#CE9178"> ├──</span><span style="--shiki-default:#CE9178"> levels.js</span><span style="--shiki-default:#CE9178"> //</span><span style="--shiki-default:#CE9178"> Code</span><span style="--shiki-default:#CE9178"> for</span><span style="--shiki-default:#CE9178"> the</span><span style="--shiki-default:#CE9178"> levels</span><span style="--shiki-default:#CE9178"> scenes
</span></span><span class="line" line="9"><span style="--shiki-default:#DCDCAA">│  </span><span style="--shiki-default:#CE9178"> └──</span><span style="--shiki-default:#CE9178"> menu.js</span><span style="--shiki-default:#CE9178"> //</span><span style="--shiki-default:#CE9178"> Code</span><span style="--shiki-default:#CE9178"> for</span><span style="--shiki-default:#CE9178"> the</span><span style="--shiki-default:#CE9178"> menu</span><span style="--shiki-default:#CE9178"> scene
</span></span><span class="line" line="10"><span style="--shiki-default:#DCDCAA">├──</span><span style="--shiki-default:#CE9178"> utils
</span></span><span class="line" line="11"><span style="--shiki-default:#DCDCAA">│  </span><span style="--shiki-default:#CE9178"> ├──</span><span style="--shiki-default:#CE9178"> loader.js</span><span style="--shiki-default:#CE9178"> //</span><span style="--shiki-default:#CE9178"> Code</span><span style="--shiki-default:#CE9178"> for</span><span style="--shiki-default:#CE9178"> loading</span><span style="--shiki-default:#CE9178"> game</span><span style="--shiki-default:#CE9178"> assets
</span></span><span class="line" line="12"><span style="--shiki-default:#DCDCAA">│  </span><span style="--shiki-default:#CE9178"> └──</span><span style="--shiki-default:#CE9178"> ui.js</span><span style="--shiki-default:#CE9178"> //</span><span style="--shiki-default:#CE9178"> Code</span><span style="--shiki-default:#CE9178"> for</span><span style="--shiki-default:#CE9178"> user</span><span style="--shiki-default:#CE9178"> interface</span><span style="--shiki-default:#CE9178"> components
</span></span><span class="line" line="13"><span style="--shiki-default:#DCDCAA">└──</span><span style="--shiki-default:#CE9178"> main.js</span><span style="--shiki-default:#CE9178"> //</span><span style="--shiki-default:#CE9178"> Main</span><span style="--shiki-default:#CE9178"> entry</span><span style="--shiki-default:#CE9178"> point</span><span style="--shiki-default:#CE9178"> of</span><span style="--shiki-default:#CE9178"> the</span><span style="--shiki-default:#CE9178"> game
</span></span></code><!--]--></pre><!--]--><p><!--[-->Configuration files are stored in the <code class=""><!--[-->config/<!--]--></code> directory, entities such as players or enemies are stored in the <code class=""><!--[-->entities/<!--]--></code> directory, and scenes and utilities are stored in the <code class=""><!--[-->scenes/<!--]--></code> and <code class=""><!--[-->utils/<!--]--></code> directories, respectively. The <code class=""><!--[-->main.js<!--]--></code> file is the main entry point of the game. The most important parts of the game are declared here, including:<!--]--></p><ul><!--[--><li><!--[-->Initialization of the <strong><!--[-->Kaboom.js<!--]--></strong> game engine:<!--]--></li><!--]--></ul><!--[--><pre class="language-js shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#C586C0">import</span><span style="--shiki-default:#9CDCFE"> kaboom</span><span style="--shiki-default:#C586C0"> from</span><span style="--shiki-default:#CE9178"> &quot;kaboom&quot;</span><span style="--shiki-default:#D4D4D4">;
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#DCDCAA">kaboom</span><span style="--shiki-default:#D4D4D4">({
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">  width:</span><span style="--shiki-default:#B5CEA8"> 512</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="5"><span style="--shiki-default:#9CDCFE">  height:</span><span style="--shiki-default:#B5CEA8"> 320</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="6"><span style="--shiki-default:#9CDCFE">  letterbox:</span><span style="--shiki-default:#569CD6"> false</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">  scale:</span><span style="--shiki-default:#B5CEA8"> 1.5</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="8"><span style="--shiki-default:#9CDCFE">  font:</span><span style="--shiki-default:#CE9178"> &quot;jersey&quot;</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="9"><span style="--shiki-default:#D4D4D4">});
</span></span></code><!--]--></pre><!--]--><ul><!--[--><li><!--[-->Loading the game assets (i.e. fonts, sprites, entities):<!--]--></li><!--]--></ul><!--[--><pre class="language-js shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#C586C0">import</span><span style="--shiki-default:#D4D4D4"> { </span><span style="--shiki-default:#9CDCFE">load</span><span style="--shiki-default:#D4D4D4"> } </span><span style="--shiki-default:#C586C0">from</span><span style="--shiki-default:#CE9178"> &quot;./utils/loader&quot;</span><span style="--shiki-default:#D4D4D4">;
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#9CDCFE">load</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">fonts</span><span style="--shiki-default:#D4D4D4">();
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">load</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">items</span><span style="--shiki-default:#D4D4D4">();
</span></span><span class="line" line="5"><span style="--shiki-default:#9CDCFE">load</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">player</span><span style="--shiki-default:#D4D4D4">();
</span></span><span class="line" line="6"><span style="--shiki-default:#9CDCFE">load</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">sounds</span><span style="--shiki-default:#D4D4D4">();
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">load</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">terrain</span><span style="--shiki-default:#D4D4D4">();
</span></span><span class="line" line="8"><span style="--shiki-default:#9CDCFE">load</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">traps</span><span style="--shiki-default:#D4D4D4">();
</span></span></code><!--]--></pre><!--]--><ul><!--[--><li><!--[-->Declaring global variables (i.e. current level, score, and scoring dictionary):<!--]--></li><!--]--></ul><!--[--><pre class="language-js shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#C586C0">export</span><span style="--shiki-default:#569CD6"> let</span><span style="--shiki-default:#9CDCFE"> currentLevel</span><span style="--shiki-default:#D4D4D4"> = </span><span style="--shiki-default:#B5CEA8">1</span><span style="--shiki-default:#D4D4D4">;
</span></span><span class="line" line="2"><span style="--shiki-default:#C586C0">export</span><span style="--shiki-default:#569CD6"> let</span><span style="--shiki-default:#9CDCFE"> score</span><span style="--shiki-default:#D4D4D4"> = </span><span style="--shiki-default:#B5CEA8">0</span><span style="--shiki-default:#D4D4D4">;
</span></span><span class="line" line="3"><span style="--shiki-default:#C586C0">export</span><span style="--shiki-default:#569CD6"> const</span><span style="--shiki-default:#4FC1FF"> FRUIT_SCORES</span><span style="--shiki-default:#D4D4D4"> = {
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">  apple:</span><span style="--shiki-default:#B5CEA8"> 1</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="5"><span style="--shiki-default:#9CDCFE">  banana:</span><span style="--shiki-default:#B5CEA8"> 1</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="6"><span style="--shiki-default:#9CDCFE">  cherry:</span><span style="--shiki-default:#B5CEA8"> 2</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">  kiwi:</span><span style="--shiki-default:#B5CEA8"> 2</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="8"><span style="--shiki-default:#9CDCFE">  orange:</span><span style="--shiki-default:#B5CEA8"> 3</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="9"><span style="--shiki-default:#9CDCFE">  pineapple:</span><span style="--shiki-default:#B5CEA8"> 3</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="10"><span style="--shiki-default:#9CDCFE">  strawberry:</span><span style="--shiki-default:#B5CEA8"> 4</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="11"><span style="--shiki-default:#9CDCFE">  watermelon:</span><span style="--shiki-default:#B5CEA8"> 5</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="12"><span style="--shiki-default:#D4D4D4">};
</span></span></code><!--]--></pre><!--]--><h3 id="creating-a-makefile"><a href="#creating-a-makefile"><!--[-->Creating a Makefile<!--]--></a></h3><p><!--[-->For projects that require long tedious commands to perform regular tasks (e.g. generating a build or preview, running some tests, setting and cleaning up the environment), I got into the healthy (I think 🤭) habit of writing up a <code class=""><!--[-->Makefile<!--]--></code>. This file lets us conveniently define a set of <em><!--[-->rules<!--]--></em>. I won&#39;t get into details for this blog post as you can easily find proper documentation elsewhere, but it&#39;s safe to say that if you haven&#39;t heard of <code class=""><!--[-->Makefile<!--]--></code> yet, go and read a bit about it as it will surely help you in the long run when it comes to streamlining the development workflow of a larger project, saving you sweat and tears (and time!) writing those boring commands.<!--]--></p><p><!--[-->For this project, the commands I included in the <code class=""><!--[-->Makefile<!--]--></code> are used in setting up the environment (<code class=""><!--[-->install<!--]--></code>), updating the dependencies (<code class=""><!--[-->update<!--]--></code>), cleaning up the environment (<code class=""><!--[-->clean<!--]--></code>), building the project (<code class=""><!--[-->build<!--]--></code>), running in development mode (<code class=""><!--[-->dev<!--]--></code>), running the build (<code class=""><!--[-->run<!--]--></code>), and lastly showing the commands available in the <code class=""><!--[-->Makefile<!--]--></code> (<code class=""><!--[-->help<!--]--></code>).<!--]--></p><!--[--><pre class="language-makefile shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#DCDCAA">.PHONY</span><span style="--shiki-default:#D4D4D4">: install update clean build help
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#DCDCAA">install</span><span style="--shiki-default:#D4D4D4">: </span><span style="--shiki-default:#6A9955">## Install dependencies
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4"> bun install
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#DCDCAA">update</span><span style="--shiki-default:#D4D4D4">: </span><span style="--shiki-default:#6A9955">## Update dependencies
</span></span><span class="line" line="7"><span style="--shiki-default:#D4D4D4"> bun update
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#DCDCAA">clean</span><span style="--shiki-default:#D4D4D4">: </span><span style="--shiki-default:#6A9955">## Clean up the project
</span></span><span class="line" line="10"><span style="--shiki-default:#D4D4D4"> rm -rf node_modules dist
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span style="--shiki-default:#DCDCAA">build</span><span style="--shiki-default:#D4D4D4">: install </span><span style="--shiki-default:#6A9955">## Build project
</span></span><span class="line" line="13"><span style="--shiki-default:#D4D4D4"> rm -rf dist
</span></span><span class="line" line="14"><span style="--shiki-default:#D4D4D4"> bun run esbuild src/main.js --bundle &gt; build.js
</span></span><span class="line" line="15"><span style="--shiki-default:#D4D4D4"> mkdir dist
</span></span><span class="line" line="16"><span style="--shiki-default:#D4D4D4"> mv -f build.js dist/.
</span></span><span class="line" line="17"><span emptylineplaceholder="true">
</span></span><span class="line" line="18"><span style="--shiki-default:#DCDCAA">dev</span><span style="--shiki-default:#D4D4D4">: build </span><span style="--shiki-default:#6A9955">## Run project in development mode
</span></span><span class="line" line="19"><span style="--shiki-default:#D4D4D4"> bun run dev
</span></span><span class="line" line="20"><span emptylineplaceholder="true">
</span></span><span class="line" line="21"><span style="--shiki-default:#DCDCAA">run</span><span style="--shiki-default:#D4D4D4">: build </span><span style="--shiki-default:#6A9955">## Run project in production mode
</span></span><span class="line" line="22"><span style="--shiki-default:#D4D4D4"> bun run start
</span></span><span class="line" line="23"><span emptylineplaceholder="true">
</span></span><span class="line" line="24"><span style="--shiki-default:#DCDCAA">deploy</span><span style="--shiki-default:#D4D4D4">: build </span><span style="--shiki-default:#6A9955">## Deploy project to GitHub Pages
</span></span><span class="line" line="25"><span style="--shiki-default:#D4D4D4"> cp -rf assets dist/.
</span></span><span class="line" line="26"><span style="--shiki-default:#D4D4D4"> cp index.html dist/.
</span></span><span class="line" line="27"><span style="--shiki-default:#D4D4D4"> cp styles.css dist/.
</span></span><span class="line" line="28"><span style="--shiki-default:#D4D4D4"> sed -i &#39;&#39; &#39;s|dist/build.js|build.js|g&#39; dist/index.html
</span></span><span class="line" line="29"><span style="--shiki-default:#D4D4D4"> gh-pages -d dist
</span></span><span class="line" line="30"><span emptylineplaceholder="true">
</span></span><span class="line" line="31"><span style="--shiki-default:#DCDCAA">help</span><span style="--shiki-default:#D4D4D4">:
</span></span><span class="line" line="32"><span style="--shiki-default:#DCDCAA"> @grep</span><span style="--shiki-default:#DCDCAA"> -E</span><span style="--shiki-default:#DCDCAA"> &#39;^[a-zA-Z_-]+</span><span style="--shiki-default:#D4D4D4">:.</span><span style="--shiki-default:#9CDCFE">*</span><span style="--shiki-default:#D4D4D4">?</span><span style="--shiki-default:#6A9955">## .*$$&#39; $(MAKEFILE_LIST) | sort | awk &#39;BEGIN {FS = &quot;:.*?## &quot;}; {printf &quot;\033[36m%-10s\033[0m %s\n&quot;, $$1, $$2}&#39;
</span></span></code><!--]--></pre><!--]--><p><!--[-->Running any of these commands is as straightforward as it can be, simply run: <code class=""><!--[-->make &lt;command&gt;<!--]--></code>.<!--]--></p><p><!--[-->The <code class=""><!--[-->help<!--]--></code> <em><!--[-->recipe<!--]--></em><sup><a aria-current="page" href="/blog/2024/ninjump#user-content-fn-1" class="router-link-active router-link-exact-active" aria-describedby="footnote-label" data-footnote-ref id="user-content-fnref-1"><!--[-->2<!--]--></a></sup> isn&#39;t readable, I admit. But all it does is list the available make <em><!--[-->rules<!--]--></em><sup><a aria-current="page" href="/blog/2024/ninjump#user-content-fn-2" class="router-link-active router-link-exact-active" aria-describedby="footnote-label" data-footnote-ref id="user-content-fnref-2"><!--[-->3<!--]--></a></sup>. Running <code class=""><!--[-->make help<!--]--></code> will yield the following to the terminal:<!--]--></p><!--[--><pre class="language-shell shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#DCDCAA">❯</span><span style="--shiki-default:#CE9178"> make</span><span style="--shiki-default:#CE9178"> help
</span></span><span class="line" line="2"><span style="--shiki-default:#DCDCAA">build</span><span style="--shiki-default:#CE9178">      Build</span><span style="--shiki-default:#CE9178"> project
</span></span><span class="line" line="3"><span style="--shiki-default:#DCDCAA">clean</span><span style="--shiki-default:#CE9178">      Clean</span><span style="--shiki-default:#CE9178"> up</span><span style="--shiki-default:#CE9178"> the</span><span style="--shiki-default:#CE9178"> project
</span></span><span class="line" line="4"><span style="--shiki-default:#DCDCAA">deploy</span><span style="--shiki-default:#CE9178">     Deploy</span><span style="--shiki-default:#CE9178"> project</span><span style="--shiki-default:#CE9178"> to</span><span style="--shiki-default:#CE9178"> GitHub</span><span style="--shiki-default:#CE9178"> Pages
</span></span><span class="line" line="5"><span style="--shiki-default:#DCDCAA">dev</span><span style="--shiki-default:#CE9178">        Run</span><span style="--shiki-default:#CE9178"> project</span><span style="--shiki-default:#CE9178"> in</span><span style="--shiki-default:#CE9178"> development</span><span style="--shiki-default:#CE9178"> mode
</span></span><span class="line" line="6"><span style="--shiki-default:#DCDCAA">install</span><span style="--shiki-default:#CE9178">    Install</span><span style="--shiki-default:#CE9178"> dependencies
</span></span><span class="line" line="7"><span style="--shiki-default:#DCDCAA">run</span><span style="--shiki-default:#CE9178">        Run</span><span style="--shiki-default:#CE9178"> project</span><span style="--shiki-default:#CE9178"> in</span><span style="--shiki-default:#CE9178"> production</span><span style="--shiki-default:#CE9178"> mode
</span></span><span class="line" line="8"><span style="--shiki-default:#DCDCAA">update</span><span style="--shiki-default:#CE9178">     Update</span><span style="--shiki-default:#CE9178"> dependencies
</span></span></code><!--]--></pre><!--]--><h3 id="implementing-some-logic"><a href="#implementing-some-logic"><!--[-->Implementing some logic<!--]--></a></h3><h4 id="generating-random-fruits"><a href="#generating-random-fruits"><!--[-->Generating random fruits<!--]--></a></h4><p><!--[-->Each level is defined in a JavaScript object (in the <code class=""><!--[-->scenes/levels.js<!--]--></code> file) that behaves similarly to a dictionary in Python. In this file, fruits are defined as a single character <code class=""><!--[-->f<!--]--></code> which is itself defined in another JavaScript object (in the <code class=""><!--[-->config/levelConfig.js<!--]--></code>) and for which the respective sprite is first loaded by the loader (located at <code class=""><!--[-->utils/loader.js<!--]--></code>). The <code class=""><!--[-->f<!--]--></code> can represent any of the 8 defined fruits and each fruit is associated with a specific score. Consuming the fruit (i.e. passing on top of it with the player) will yield a specific reward that will be incremented on the current score value. To add some chaos to the game, I created a random fruit generator 🍎 🍊 🍉<!--]--></p><!--[--><pre class="language-js shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#9CDCFE">level</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">get</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#CE9178">&quot;fruits&quot;</span><span style="--shiki-default:#D4D4D4">).</span><span style="--shiki-default:#DCDCAA">forEach</span><span style="--shiki-default:#D4D4D4">((</span><span style="--shiki-default:#9CDCFE">fruit</span><span style="--shiki-default:#D4D4D4">) </span><span style="--shiki-default:#569CD6">=&gt;</span><span style="--shiki-default:#D4D4D4"> {
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">  const</span><span style="--shiki-default:#4FC1FF"> fruits</span><span style="--shiki-default:#D4D4D4"> = </span><span style="--shiki-default:#9CDCFE">Object</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">keys</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#4FC1FF">FRUIT_SCORES</span><span style="--shiki-default:#D4D4D4">);
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">  const</span><span style="--shiki-default:#4FC1FF"> randomFruit</span><span style="--shiki-default:#D4D4D4"> = </span><span style="--shiki-default:#9CDCFE">fruits</span><span style="--shiki-default:#D4D4D4">[</span><span style="--shiki-default:#9CDCFE">Math</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">floor</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#9CDCFE">Math</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">random</span><span style="--shiki-default:#D4D4D4">() * </span><span style="--shiki-default:#9CDCFE">fruits</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#9CDCFE">length</span><span style="--shiki-default:#D4D4D4">)];
</span></span><span class="line" line="4"><span style="--shiki-default:#9CDCFE">  fruit</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#9CDCFE">name</span><span style="--shiki-default:#D4D4D4"> = </span><span style="--shiki-default:#9CDCFE">randomFruit</span><span style="--shiki-default:#D4D4D4">;
</span></span><span class="line" line="5"><span style="--shiki-default:#9CDCFE">  fruit</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">play</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#9CDCFE">randomFruit</span><span style="--shiki-default:#D4D4D4">);
</span></span><span class="line" line="6"><span style="--shiki-default:#D4D4D4">});
</span></span></code><!--]--></pre><!--]--><p><!--[-->In a nutshell, for each fruit (<code class=""><!--[-->f<!--]--></code>) present in a given level, the name will be randomly assigned (e.g. &quot;apple&quot;) which will then be reflected in which sprite is drawn and what score is associated with it. The animation is then looped infinitely using the <code class=""><!--[-->play<!--]--></code> method.<!--]--></p><h4 id="incrementing-the-score"><a href="#incrementing-the-score"><!--[-->Incrementing the score<!--]--></a></h4><p><!--[-->Whenever the player collides with a fruit, it consumes it. This means that we need to do several things when we catch this:<!--]--></p><ol><!--[--><li><!--[-->Play a sound to give audio feedback to the user that they just &quot;ate&quot; a fruit<!--]--></li><li><!--[-->Play an animation to give visual feedback to the user that the fruit has been &quot;consumed&quot;<!--]--></li><li><!--[-->Wait some time for the animation to finish playing (in this case, empirically set at 200ms)<!--]--></li><li><!--[-->Destroy the sprite from the canvas<!--]--></li><li><!--[-->Increment the score based on which fruit was consumed<!--]--></li><li><!--[-->Update the score on the canvas<!--]--></li><!--]--></ol><p><!--[-->Phew 😮‍💨 That&#39;s a lot of things! But that&#39;s all this <code class=""><!--[-->async<!--]--></code><sup><a aria-current="page" href="/blog/2024/ninjump#user-content-fn-4" class="router-link-active router-link-exact-active" aria-describedby="footnote-label" data-footnote-ref id="user-content-fnref-4"><!--[-->4<!--]--></a></sup> function does:<!--]--></p><!--[--><pre class="language-js shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#9CDCFE">player</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">onCollide</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#CE9178">&quot;fruits&quot;</span><span style="--shiki-default:#D4D4D4">, </span><span style="--shiki-default:#569CD6">async</span><span style="--shiki-default:#D4D4D4"> (</span><span style="--shiki-default:#9CDCFE">fruit</span><span style="--shiki-default:#D4D4D4">) </span><span style="--shiki-default:#569CD6">=&gt;</span><span style="--shiki-default:#D4D4D4"> {
</span></span><span class="line" line="2"><span style="--shiki-default:#DCDCAA">  play</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#CE9178">&quot;coin&quot;</span><span style="--shiki-default:#D4D4D4">);
</span></span><span class="line" line="3"><span style="--shiki-default:#9CDCFE">  fruit</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#DCDCAA">play</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#CE9178">&quot;collected&quot;</span><span style="--shiki-default:#D4D4D4">);
</span></span><span class="line" line="4"><span style="--shiki-default:#C586C0">  await</span><span style="--shiki-default:#DCDCAA"> wait</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#B5CEA8">0.2</span><span style="--shiki-default:#D4D4D4">);
</span></span><span class="line" line="5"><span style="--shiki-default:#DCDCAA">  destroy</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#9CDCFE">fruit</span><span style="--shiki-default:#D4D4D4">);
</span></span><span class="line" line="6"><span style="--shiki-default:#9CDCFE">  score</span><span style="--shiki-default:#D4D4D4"> += </span><span style="--shiki-default:#4FC1FF">FRUIT_SCORES</span><span style="--shiki-default:#D4D4D4">[</span><span style="--shiki-default:#9CDCFE">fruit</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#9CDCFE">name</span><span style="--shiki-default:#D4D4D4">];
</span></span><span class="line" line="7"><span style="--shiki-default:#9CDCFE">  currentScore</span><span style="--shiki-default:#D4D4D4">.</span><span style="--shiki-default:#9CDCFE">text</span><span style="--shiki-default:#D4D4D4"> = </span><span style="--shiki-default:#CE9178">`Score: </span><span style="--shiki-default:#569CD6">${</span><span style="--shiki-default:#9CDCFE">score</span><span style="--shiki-default:#569CD6">}</span><span style="--shiki-default:#CE9178">`</span><span style="--shiki-default:#D4D4D4">;
</span></span><span class="line" line="8"><span style="--shiki-default:#D4D4D4">});
</span></span></code><!--]--></pre><!--]--><p><!--[-->The <code class=""><!--[-->await wait(0.2)<!--]--></code> line is necessary to pause the execution of the code until 200ms have passed, this will allow the <code class=""><!--[-->collected<!--]--></code> animation to finish, otherwise we would not even see it.<!--]--></p><h2 id="outro"><a href="#outro"><!--[-->Outro<!--]--></a></h2><p><!--[-->All in all, I would say that it was relatively easy to make this small game. I had some grievances with <strong><!--[-->Kaboom<!--]--></strong> initially, the documentation was a bit lacking at times, so I resorted to the old and tried method of trial and error. Some examples were also not working at all (that may be due to my browser). But overall I would say it&#39;s a solid game programming library to get started with game development. I would suggest moving to a more rounded, proven and widely adopted game programming library once you want to seriously invest time into building a proper game. It&#39;s worth considering game engines too, e.g. <a href="https://godotengine.org" rel="nofollow"><!--[-->Godot<!--]--></a> or <a href="https://unity.com" rel="nofollow"><!--[-->Unity<!--]--></a>.<!--]--></p><section class="footnotes" data-footnotes><h2 id="footnote-label" class="sr-only"><a href="#footnote-label"><!--[-->Footnotes<!--]--></a></h2><ol><!--[--><li id="user-content-fn-3"><!--[-->A tilemap is a grid-based representation of a game level comprised of tiles <a aria-current="page" href="/blog/2024/ninjump#user-content-fnref-3" class="router-link-active router-link-exact-active data-footnote-backref" aria-label="Back to reference 1" data-footnote-backref><!--[-->↩<!--]--></a><!--]--></li><li id="user-content-fn-1"><!--[-->A <em><!--[-->recipe<!--]--></em> is essentially a series of commands that make runs <a aria-current="page" href="/blog/2024/ninjump#user-content-fnref-1" class="router-link-active router-link-exact-active data-footnote-backref" aria-label="Back to reference 2" data-footnote-backref><!--[-->↩<!--]--></a><!--]--></li><li id="user-content-fn-2"><!--[-->A <em><!--[-->rule<!--]--></em> is comprised of 3 parts: a target, prerequisites/dependencies, and a recipe <a aria-current="page" href="/blog/2024/ninjump#user-content-fnref-2" class="router-link-active router-link-exact-active data-footnote-backref" aria-label="Back to reference 3" data-footnote-backref><!--[-->↩<!--]--></a><!--]--></li><li id="user-content-fn-4"><!--[-->An <code class=""><!--[-->async<!--]--></code> function permits working with asynchronous operations using the <code class=""><!--[-->async<!--]--></code> and <code class=""><!--[-->await<!--]--></code> keywords <a aria-current="page" href="/blog/2024/ninjump#user-content-fnref-4" class="router-link-active router-link-exact-active data-footnote-backref" aria-label="Back to reference 4" data-footnote-backref><!--[-->↩<!--]--></a><!--]--></li><!--]--></ol></section><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><!--]--></div><!--]--><footer><hr style="margin-bottom:20px;"> © 2024 Alexandre Cirilo. Powered by <a href="https://nuxt.com/"><strong>Nuxt</strong></a>. </footer></div></div></div></div></div></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true" data-src="/blog/2024/ninjump/_payload.json?779fd26d-f086-4fcc-9b46-89e6feb13a04">[{"state":1,"once":7,"_errors":8,"serverRendered":5,"path":11,"prerenderedAt":12},["Reactive",2],{"$scolor-mode":3},{"preference":4,"value":4,"unknown":5,"forced":6},"light",true,false,["Set"],["ShallowReactive",9],{"content-query-p4KaDGXOs7":10},null,"/blog/2024/ninjump",1722929342525]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{useNuxtImage:true,components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1722929337799,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"dark-plus"},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildId:"779fd26d-f086-4fcc-9b46-89e6feb13a04",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>