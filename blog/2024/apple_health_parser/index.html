<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Apple Health Parser</title>
<style>.container{margin:0 auto;max-width:960px;padding:0 20px;position:relative}.column,.columns,.container{box-sizing:border-box;width:100%}.column,.columns{float:left}@media (min-width:400px){.container{padding:0;width:85%}}@media (min-width:550px){.container{width:80%}.column,.columns{margin-left:4%}.column:first-child,.columns:first-child{margin-left:0}.one.column,.one.columns{width:4.66666666667%}.two.columns{width:13.3333333333%}.three.columns{width:22%}.four.columns{width:30.6666666667%}.five.columns{width:39.3333333333%}.six.columns{width:48%}.seven.columns{width:56.6666666667%}.eight.columns{width:65.3333333333%}.nine.columns{width:74%}.ten.columns{width:82.6666666667%}.eleven.columns{width:91.3333333333%}.twelve.columns{margin-left:0;width:100%}.one-third.column{width:30.6666666667%}.two-thirds.column{width:65.3333333333%}.one-half.column{width:48%}.offset-by-one.column,.offset-by-one.columns{margin-left:8.66666666667%}.offset-by-two.column,.offset-by-two.columns{margin-left:17.3333333333%}.offset-by-three.column,.offset-by-three.columns{margin-left:26%}.offset-by-four.column,.offset-by-four.columns{margin-left:34.6666666667%}.offset-by-five.column,.offset-by-five.columns{margin-left:43.3333333333%}.offset-by-six.column,.offset-by-six.columns{margin-left:52%}.offset-by-seven.column,.offset-by-seven.columns{margin-left:60.6666666667%}.offset-by-eight.column,.offset-by-eight.columns{margin-left:69.3333333333%}.offset-by-nine.column,.offset-by-nine.columns{margin-left:78%}.offset-by-ten.column,.offset-by-ten.columns{margin-left:86.6666666667%}.offset-by-eleven.column,.offset-by-eleven.columns{margin-left:95.3333333333%}.offset-by-one-third.column,.offset-by-one-third.columns{margin-left:34.6666666667%}.offset-by-two-thirds.column,.offset-by-two-thirds.columns{margin-left:69.3333333333%}.offset-by-one-half.column,.offset-by-one-half.columns{margin-left:52%}}html{font-size:62.5%}body{background-color:#fcf2ec;color:#222;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;font-size:1.2em;font-weight:400;line-height:1.6;padding:2%}.dark-mode body{background-color:#222;color:#ebf4f1}h1,h2,h3,h4,h5,h6{font-weight:400;margin-bottom:2rem;margin-top:0;text-align:left}h1,h1>a{font-size:2.8rem;line-height:1.2}h1,h1>a,h2,h2>a{letter-spacing:-.1rem}h2,h2>a{font-size:2.4rem;line-height:1.25}h3,h3>a{font-size:2.2rem;letter-spacing:-.1rem;line-height:1.3}h4,h4>a{font-size:2rem;letter-spacing:-.08rem;line-height:1.35}h5,h5>a{font-size:1.8rem;letter-spacing:-.05rem;line-height:1.5}h6,h6>a{font-size:1.6rem;letter-spacing:0;line-height:1.6}@media (min-width:550px){h1,h1>a{font-size:2.8rem}h2,h2>a{font-size:2.4rem}h3,h3>a{font-size:2.2rem}h4,h4>a{font-size:2rem}h5,h5>a{font-size:1.8rem}h6,h6>a{font-size:1.6rem}}p{font-size:1.2rem;margin-top:0}.dark-mode a,.dark-mode nav>ul>li>a,a,nav>ul>li>a{color:inherit;text-decoration:none}a:hover{opacity:70%}ol>li>a,ol>strong>a,p>a,ul>li>a{color:#556b2f;font-weight:700;text-decoration:underline}.dark-mode ol>li>a,.dark-mode ol>strong>a,.dark-mode p>a,.dark-mode ul>li>a{color:#6e8b3d;font-weight:700;text-decoration:underline}.button,button,input[type=button],input[type=reset],input[type=submit]{background-color:transparent;border:1px solid #bbb;border-radius:4px;box-sizing:border-box;color:#555;cursor:pointer;display:inline-block;font-size:11px;font-weight:600;height:38px;letter-spacing:.1rem;line-height:38px;padding:0 30px;text-align:center;text-decoration:none;text-transform:uppercase;white-space:nowrap}.button:focus,.button:hover,button:focus,button:hover,input[type=button]:focus,input[type=button]:hover,input[type=reset]:focus,input[type=reset]:hover,input[type=submit]:focus,input[type=submit]:hover{border-color:#888;color:#333;outline:0}.button.button-primary,button.button-primary,input[type=button].button-primary,input[type=reset].button-primary,input[type=submit].button-primary{background-color:#33c3f0;border-color:#33c3f0;color:#fff}.button.button-primary:focus,.button.button-primary:hover,button.button-primary:focus,button.button-primary:hover,input[type=button].button-primary:focus,input[type=button].button-primary:hover,input[type=reset].button-primary:focus,input[type=reset].button-primary:hover,input[type=submit].button-primary:focus,input[type=submit].button-primary:hover{background-color:#1eaedb;border-color:#1eaedb;color:#fff}input[type=email],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=url],select,textarea{background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box;height:38px;padding:6px 10px}input[type=email],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=url],textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{min-height:65px;padding-bottom:6px;padding-top:6px}input[type=email]:focus,input[type=number]:focus,input[type=password]:focus,input[type=search]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=url]:focus,select:focus,textarea:focus{border:1px solid #33c3f0;outline:0}label,legend{display:block;font-weight:600;margin-bottom:.5rem}fieldset{border-width:0;padding:0}input[type=checkbox],input[type=radio]{display:inline}label>.label-body{display:inline-block;font-weight:400;margin-left:.5rem}ul{list-style:none}ol{list-style:decimal inside}ol,ul{margin-top:0;padding-left:0}ol ol,ol ul,ul ol,ul ul{font-size:90%;margin:1.5rem 0 1.5rem 3rem}li{margin-bottom:1rem}code{font-size:1.25rem;font-weight:700;margin:0 .2rem;white-space:nowrap}pre>code{background:#373737;border:none;border-radius:8px;color:#f5f5f5;display:block;overflow-x:auto;padding:1rem 1.5rem;white-space:pre}.highlight{border:1px solid #e1e1e1;border-radius:10px;font-size:larger;max-width:-moz-fit-content;max-width:fit-content}td,th{border-bottom:1px solid #e1e1e1;padding:12px 15px;text-align:left}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}.button,button{margin-bottom:1rem}fieldset,input,select,textarea{margin-bottom:1.5rem}blockquote,dl,figure,form,ol,p,pre,table,ul{margin-bottom:2.5rem}.u-full-width{box-sizing:border-box;width:100%}.u-max-full-width{box-sizing:border-box;max-width:100%}.u-pull-right{float:right}.u-pull-left{float:left}hr{border-width:0;border-top:1px solid #e1e1e1;margin-bottom:3.5rem;margin-top:3rem}.container:after,.row:after,.u-cf{clear:both;content:"";display:table}footer,footer>a{font-size:1.1rem;text-align:center}.dark-mode footer>p>a{color:#cecece}nav{justify-content:center;width:80%}#nav-button{font-weight:inherit}#nav-button:hover{opacity:.5;text-decoration:underline}#avatar{border-radius:20%;margin-bottom:20px;max-width:180px;width:80%}#name{font-size:medium;font-weight:bolder}#bio,#name{text-align:center;width:80%}#bio{font-size:95%}#socials{padding:5% 0;text-align:center}.icon{font-size:20px;height:20px;margin:0 4%;width:20px}.icon:hover{opacity:.8}.util-icon{cursor:pointer;opacity:.5}.dark-mode .icon{color:#f5f5f5}#github-icon:hover,.dark-mode #github-icon:hover{color:dimgray}#instagram-icon:hover,.dark-mode #instagram-icon:hover{color:#c71585}#linkedin-icon:hover,.dark-mode #linkedin-icon:hover{color:#4682b4}blockquote{border-left:1.5px solid #444;color:#444;padding-left:20px;text-align:left}.dark-mode blockquote{color:#999}sup{font-size:.8rem;font-weight:bolder;padding-left:2px}sup>a{font-size:.9rem}.dark-mode .svg{filter:invert(1)}img{display:block;margin-left:auto;margin-right:auto;max-width:95%}</style>
<style>*{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.delimiter{border:.5px dashed #555;width:60%}.chip{background:#a0c8fa1a;border-radius:4px;cursor:pointer;font-size:1.2rem;margin:0 .2rem;padding:.2rem .5rem}.chip:hover{opacity:.7}.tags{display:inline-block;padding-bottom:4px}</style>
<style>[data-v-62828f40] li{list-style:square;margin-bottom:.4rem;margin-left:2rem}[data-v-62828f40] .header{align-items:center;display:flex;justify-content:space-between;width:100%}[data-v-62828f40] .toc-links *{list-style:none}[data-v-62828f40] .toc-toggle{border:1px solid #888;border-radius:4px;cursor:pointer;font-size:90%;margin-bottom:16px;padding:4px;-webkit-user-select:none;-moz-user-select:none;user-select:none}[data-v-62828f40] .toc-toggle:hover{color:#d3d3d3}[data-v-62828f40] .footnotes{margin-top:20px;padding-top:12px;width:-moz-fit-content;width:fit-content}[data-v-62828f40] .footnotes:before{border-bottom:1px dotted;content:"References";display:block;font-size:1.1rem;margin-bottom:6px}[data-v-62828f40] .footnotes *{color:inherit;font-size:1.1rem;font-weight:400;list-style:decimal}[data-v-62828f40] table{border-collapse:collapse;margin-left:auto;margin-right:auto}[data-v-62828f40] table *{font-size:1.1rem;padding:8px 10px;text-align:center}[data-v-62828f40] th{border:1px solid #a9a9a9}[data-v-62828f40] td{border:1px dotted}[data-v-62828f40] td>a{text-decoration:underline}[data-v-62828f40] td>a:hover{opacity:.5}[data-v-62828f40] figure{display:flex;justify-content:center;margin:auto;padding-bottom:2%;width:90%}[data-v-62828f40] .figure-image{width:inherit}[data-v-62828f40] .figure-caption{border-top:1px solid gray;display:block;font-size:smaller;margin:auto;padding:2% 4% 6%;text-align:center;width:-moz-fit-content;width:fit-content}[data-v-62828f40] .snippet{background-color:rgba(106,142,35,.5);border-radius:4px;cursor:pointer;padding:2px}[data-v-62828f40] .snippet:hover{opacity:.5}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<link rel="stylesheet" href="/_nuxt/ProsePre.CchFRBtv.css">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/blog/2024/apple_health_parser/_payload.json?779fd26d-f086-4fcc-9b46-89e6feb13a04">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DhFzIRcp.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B-J4td5x.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BZgqGLCs.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Q4DFxoMT.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/rRVzqD1o.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/6CCsQ6kW.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C-v3KzvZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dnd51l0P.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BWnpENci.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/UFIaDwDG.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C9qFDHrK.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/vXYcVh4O.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/wLpKSaeH.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BhD7aYaO.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/3Q3RxVak.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DYHflUPV.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BlXubYNm.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DCawY0M8.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/hZGDpBP1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ttDtB7hC.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/54nRS35v.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cz4rWFhX.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DAaraRxW.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/d0EWbAJF.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/3-8kgkbj.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B8ghszS7.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/tLvFhkqG.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D__YjHIV.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ClMD9Duc.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BfoJ4Yqk.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DMyMpP8f.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/C17eTT5B.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/RGx4xhhB.js">
<link rel="prefetch" as="image" type="image/png" href="/_nuxt/avatar.BIW1al4W.png">
<meta property="og:title" content="Apple Health Parser">
<meta name="description" content="Publishing a Python package to extract, process, and analyse Apple HealthKit data">
<meta property="og:description" content="Publishing a Python package to extract, process, and analyse Apple HealthKit data">
<script type="module" src="/_nuxt/DhFzIRcp.js" crossorigin></script><script>"use strict";(()=>{const a=window,e=document.documentElement,c=window.localStorage,d=["dark","light"],n=c&&c.getItem&&c.getItem("nuxt-color-mode")||"light";let l=n==="system"?f():n;const i=e.getAttribute("data-color-mode-forced");i&&(l=i),r(l),a["__NUXT_COLOR_MODE__"]={preference:n,value:l,getColorScheme:f,addColorScheme:r,removeColorScheme:u};function r(o){const t=""+o+"-mode",s="";e.classList?e.classList.add(t):e.className+=" "+t,s&&e.setAttribute("data-"+s,o)}function u(o){const t=""+o+"-mode",s="";e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp(t,"g"),""),s&&e.removeAttribute("data-"+s)}function m(o){return a.matchMedia("(prefers-color-scheme"+o+")")}function f(){if(a.matchMedia&&m("").media!=="not all"){for(const o of d)if(m(":"+o).matches)return o}return"light"}})();</script></head><body><div id="__nuxt"><div><div><title>Alexandre Cirilo</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"><div class="container"><div class="row"><div class="three columns" align="center"><header><img id="avatar" alt="👋 Hi, that&#39;s me!" src="/_nuxt/avatar.BIW1al4W.png"><p id="name">Alexandre Cirilo</p><p id="bio">Software engineer based in Amsterdam, the Netherlands.</p><div id="socials"><a id="github-icon" href="https://github.com/alxdrcirilo" target="_blank" rel="icon" class="fab fa-github icon"></a><a id="instagram-icon" href="https://www.instagram.com/alxdrcirilo/" target="_blank" rel="icon" class="fab fa-instagram icon"></a><a id="linkedin-icon" href="https://www.linkedin.com/in/alxdrcirilo/" target="_blank" rel="icon" class="fab fa-linkedin icon"></a></div><div><a rel="icon" class="fas fa-moon icon util-icon"></a><a href="/cv.pdf" rel="icon" class="fas fa-file icon util-icon"></a><a href="/rss.xml" rel="icon" class="fas fa-rss icon util-icon"></a></div><hr class="delimiter"><nav><ul><li><a href="/" class="" id="nav-button">Home</a></li><li><a href="/archive" class="" id="nav-button">Archive</a></li><li><a href="/tags" class="" id="nav-button">Tags</a></li></ul></nav><hr class="delimiter"></header></div><div class="nine columns"><!--[--><div data-v-62828f40><!--[--><header data-v-62828f40><div class="header" data-v-62828f40><h1 style="font-weight:bold;margin:4px 0;" data-v-62828f40>Apple Health Parser</h1><a id="github-icon" href="https://github.com/alxdrcirilo/apple-health-parser" target="_blank" rel="icon" class="fab fa-github icon" data-v-62828f40></a></div><p data-v-62828f40>Publishing a Python package to extract, process, and analyse Apple HealthKit data</p><p style="margin:4px 0;" data-v-62828f40><strong data-v-62828f40>Date</strong>: Tue Jul 02 2024</p><strong data-v-62828f40>Tags</strong>: <!--[--><span data-v-62828f40><!--[--><div class="tags" data-v-62828f40><a href="/search/field?data science" class="" data-v-62828f40><code class="chip" style="background-color:tomato;border-radius:4px;color:whitesmoke;font-size:11px;margin-right:10px;" data-v-62828f40>Data science</code></a></div><div class="tags" data-v-62828f40><a href="/search/field?data visualisation" class="" data-v-62828f40><code class="chip" style="background-color:tomato;border-radius:4px;color:whitesmoke;font-size:11px;margin-right:10px;" data-v-62828f40>Data visualisation</code></a></div><div class="tags" data-v-62828f40><a href="/search/field?open source" class="" data-v-62828f40><code class="chip" style="background-color:tomato;border-radius:4px;color:whitesmoke;font-size:11px;margin-right:10px;" data-v-62828f40>Open source</code></a></div><!--]--></span><span data-v-62828f40><!--[--><div class="tags" data-v-62828f40><a href="/search/language?python" class="" data-v-62828f40><code class="chip" style="background-color:olivedrab;border-radius:4px;color:whitesmoke;font-size:11px;margin-right:10px;" data-v-62828f40>Python</code></a></div><!--]--></span><span data-v-62828f40><!--[--><div class="tags" data-v-62828f40><a href="/search/type?package" class="" data-v-62828f40><code class="chip" style="background-color:teal;border-radius:4px;color:whitesmoke;font-size:11px;margin-right:10px;" data-v-62828f40>Package</code></a></div><div class="tags" data-v-62828f40><a href="/search/type?tool" class="" data-v-62828f40><code class="chip" style="background-color:teal;border-radius:4px;color:whitesmoke;font-size:11px;margin-right:10px;" data-v-62828f40>Tool</code></a></div><!--]--></span><!--]--></header><hr style="margin-bottom:6px;" data-v-62828f40><div data-v-62828f40><div style="display:inline-flex;" data-v-62828f40><!----><p class="toc-toggle" data-v-62828f40> Show <strong data-v-62828f40>Table of Contents</strong></p></div><!----></div><div style="text-align:justify;" data-v-62828f40><p><!--[-->📦 <strong><!--[-->PyPI<!--]--></strong>: <a href="https://pypi.org/project/apple-health-parser" rel="nofollow"><!--[-->https://pypi.org/project/apple-health-parser/<!--]--></a> <br>
📝 <strong><!--[-->Documentation<!--]--></strong>: <a href="https://alxdrcirilo.dev/apple-health-parser" rel="nofollow"><!--[-->https://alxdrcirilo.dev/apple-health-parser<!--]--></a><!--]--></p><h2 id="preface"><a href="#preface"><!--[-->Preface<!--]--></a></h2><p><!--[-->I&#39;ve been a happy owner of an Apple Watch for about 4 years now. I must say that I was apprehensive about acquiring one at first, but I&#39;ve quickly grown to love it. I initially bought one shortly after the COVID-19 pandemic started with the intent of motivating myself to remain active. Little did I know how useful and practical it would be to own one in everyday life, in my experience. Beyond the usual health tracking features associated with smartwatches, some of the use cases of the Apple Watch that I often make use of extend to setting reminders on the fly, recording workouts, checking the weather with one quick glance, and controlling my smart home devices directy from my wrist.<!--]--></p><h3 id="sneak-peek"><a href="#sneak-peek"><!--[-->Sneak peek<!--]--></a></h3><p><!--[-->Here are some of the plots that <em><!--[-->Apple Health Parser<!--]--></em> can generate:<!--]--></p><p><!--[--><img onerror="this.setAttribute(&#39;data-error&#39;, 1)" alt="header" data-nuxt-img srcset="/_ipx/_/images/2024/5.apple_health_parser/apple_health_parser.png 1x, /_ipx/_/images/2024/5.apple_health_parser/apple_health_parser.png 2x" class="" src="/_ipx/_/images/2024/5.apple_health_parser/apple_health_parser.png"><!--]--></p><p class="figure-caption"><!--[-->Some plots generated with <em><!--[-->Apple Health Parser<!--]--></em>.<!--]--></p><h3 id="motivation"><a href="#motivation"><!--[-->Motivation<!--]--></a></h3><p><!--[-->You may ask:<!--]--></p><blockquote><!--[--><p><!--[-->&quot;But, why would you build a Python package when you can already visualise most metrics straight from your iPhone?&quot;<!--]--></p><!--]--></blockquote><p><!--[-->Well, I&#39;m a big data science nerd 🤓 I love finding new ways to visualise data. Every collection of (semi-)structured data has a story, and the fun part of data visualisation is finding a way to tell that story in a clear but memorable way.<!--]--></p><h2 id="building-the-apple-health-parser"><a href="#building-the-apple-health-parser"><!--[-->Building the <em><!--[-->Apple Health Parser<!--]--></em><!--]--></a></h2><h3 id="purpose"><a href="#purpose"><!--[-->Purpose<!--]--></a></h3><p><!--[-->In a nutshell, <em><!--[-->Apple Health Parser<!--]--></em> aims to be able to perform:<!--]--></p><ul><!--[--><li><!--[-->Extraction and processing of health records from <a href="https://developer.apple.com/documentation/healthkit" rel="nofollow"><!--[-->Apple HealthKit<!--]--></a> data<sup><a aria-current="page" href="/blog/2024/apple_health_parser#user-content-fn-1" class="router-link-active router-link-exact-active" aria-describedby="footnote-label" data-footnote-ref id="user-content-fnref-1"><!--[-->1<!--]--></a></sup><!--]--></li><li><!--[-->Parsing and validation of health records<!--]--></li><li><!--[-->Plotting (optionally interactive) health records<!--]--></li><li><!--[-->Exporting plots and tables from the parsed health records in CSV<sup><a aria-current="page" href="/blog/2024/apple_health_parser#user-content-fn-2" class="router-link-active router-link-exact-active" aria-describedby="footnote-label" data-footnote-ref id="user-content-fnref-2"><!--[-->2<!--]--></a></sup> format<!--]--></li><!--]--></ul><h3 id="implementation"><a href="#implementation"><!--[-->Implementation<!--]--></a></h3><p><!--[-->At the moment of writing of this blog post, the latest version is <code class=""><!--[-->apple-health-parser==0.5.0<!--]--></code>. The design choices I will discuss herein reflect versions <code class=""><!--[-->&lt;=0.5.0<!--]--></code>, with no guarantee that they will remain in effect in future versions of the package.<!--]--></p><p><!--[-->There are four main classes (only two are directly used by users - marked by <code class=""><!--[-->*<!--]--></code>) in <em><!--[-->Apple Health Parser<!--]--></em>:<!--]--></p><ol><!--[--><li><!--[--><code class=""><!--[-->Loader<!--]--></code> (in <a href="https://github.com/alxdrcirilo/apple-health-parser/blob/main/apple_health_parser/utils/loader.py" rel="nofollow"><!--[--><code class=""><!--[-->loader.py<!--]--></code><!--]--></a>)<!--]--></li><li><!--[--><code class=""><!--[-->Parser<!--]--></code>* (in <a href="https://github.com/alxdrcirilo/apple-health-parser/blob/main/apple_health_parser/utils/parser.py" rel="nofollow"><!--[--><code class=""><!--[-->parser.py<!--]--></code><!--]--></a>)<!--]--></li><li><!--[--><code class=""><!--[-->Preprocessor<!--]--></code> (in <a href="https://github.com/alxdrcirilo/apple-health-parser/blob/main/apple_health_parser/utils/preprocessor.py" rel="nofollow"><!--[--><code class=""><!--[-->preprocessor.py<!--]--></code><!--]--></a>)<!--]--></li><li><!--[--><code class=""><!--[-->Plot<!--]--></code>* (in <a href="https://github.com/alxdrcirilo/apple-health-parser/blob/main/apple_health_parser/plot/plots.py" rel="nofollow"><!--[--><code class=""><!--[-->plots.py<!--]--></code><!--]--></a>)<!--]--></li><!--]--></ol><p><!--[-->In addition to these main classes, a project-wide logger is defined in <a href="https://github.com/alxdrcirilo/apple-health-parser/blob/main/apple_health_parser/utils/logging.py" rel="nofollow"><!--[--><code class=""><!--[-->logging.py<!--]--></code><!--]--></a>.<!--]--></p><h4 id="loader"><a href="#loader"><!--[-->Loader<!--]--></a></h4><p><!--[-->The <code class=""><!--[-->Loader<!--]--></code> class encapsulates all the logic needed to extract the XML data from the <code class=""><!--[-->export.zip<!--]--></code> generated by the <strong><!--[-->Health<!--]--></strong> app on the iPhone.<!--]--></p><p><!--[-->Additionally, it also gets the records (i.e. health metrics) and logs some metadata (e.g. export date, birthday, etc.). All four methods in this class are actually static methods (i.e. they are decorated with <code class=""><!--[-->@staticmethod<!--]--></code>). Although the functions could indeed have been defined in the global scope (i.e. without being defined within a class), I preferred having them within the <code class=""><!--[-->Loader<!--]--></code> class in order to logically group them under a single namespace. These methods are essentially utility functions that don&#39;t share state but are related (i.e. they are used in loading the data). In my opinion, this keeps the code more cohesive and it also avoid polluting the global scope.<!--]--></p><p><!--[-->As a small example, here&#39;s the <code class=""><!--[-->read_xml<!--]--></code> method of the <code class=""><!--[-->Loader<!--]--></code> class:<!--]--></p><!--[--><pre class="language-python shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#DCDCAA">@</span><span style="--shiki-default:#4EC9B0">staticmethod
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">def</span><span style="--shiki-default:#DCDCAA"> read_xml</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#9CDCFE">xml_file</span><span style="--shiki-default:#D4D4D4">: Path) -&gt; list[ET.Element]:
</span></span><span class="line" line="3"><span style="--shiki-default:#CE9178">    &quot;&quot;&quot;
</span></span><span class="line" line="4"><span style="--shiki-default:#CE9178">    Read an XML file and return the root element.
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#CE9178">    Args:
</span></span><span class="line" line="7"><span style="--shiki-default:#CE9178">        xml_file (Path): Path to the XML file
</span></span><span class="line" line="8"><span emptylineplaceholder="true">
</span></span><span class="line" line="9"><span style="--shiki-default:#CE9178">    Returns:
</span></span><span class="line" line="10"><span style="--shiki-default:#CE9178">        list[ET.Element]: List of records (ET.Element)
</span></span><span class="line" line="11"><span style="--shiki-default:#CE9178">    &quot;&quot;&quot;
</span></span><span class="line" line="12"><span style="--shiki-default:#D4D4D4">    logger.info(</span><span style="--shiki-default:#569CD6">f</span><span style="--shiki-default:#CE9178">&quot;Processing </span><span style="--shiki-default:#569CD6">{</span><span style="--shiki-default:#D4D4D4">xml_file</span><span style="--shiki-default:#569CD6">}</span><span style="--shiki-default:#CE9178">...&quot;</span><span style="--shiki-default:#D4D4D4">)
</span></span><span class="line" line="13"><span style="--shiki-default:#C586C0">    with</span><span style="--shiki-default:#DCDCAA"> open</span><span style="--shiki-default:#D4D4D4">(xml_file, </span><span style="--shiki-default:#CE9178">&quot;r&quot;</span><span style="--shiki-default:#D4D4D4">) </span><span style="--shiki-default:#C586C0">as</span><span style="--shiki-default:#D4D4D4"> file:
</span></span><span class="line" line="14"><span style="--shiki-default:#D4D4D4">        root = ET.parse(file).getroot()
</span></span><span class="line" line="15"><span style="--shiki-default:#D4D4D4">        Loader._log_metadata(root)
</span></span><span class="line" line="16"><span style="--shiki-default:#C586C0">        return</span><span style="--shiki-default:#D4D4D4"> root.findall(</span><span style="--shiki-default:#CE9178">&quot;Record&quot;</span><span style="--shiki-default:#D4D4D4">)
</span></span></code><!--]--></pre><!--]--><p><!--[-->This method is responsible for reading an XML file and returning a list of records as <a href="https://docs.python.org/3/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" rel="nofollow"><!--[--><code class=""><!--[-->ET.Element<!--]--></code><!--]--></a> objects. The method takes a single argument <code class=""><!--[-->xml_file<!--]--></code>, which is the path to the Apple Health XML file (i.e. <code class=""><!--[-->export.xml<!--]--></code>). The method begins by logging a message indicating the file being processed. It then opens the file (in read-mode - <code class=""><!--[-->&quot;r&quot;<!--]--></code>) and reads its contents. It then gets the root element of the XML tree, logs some metadata by calling the private method <code class=""><!--[-->_log_metadata<!--]--></code> (i.e. locale, export data, and user metadata), and lastly, it returns a list of <code class=""><!--[-->ET.Element<!--]--></code> objects representing the records (i.e. elements with a tag name &quot;Record&quot;) in the XML file.<!--]--></p><h4 id="parser"><a href="#parser"><!--[-->Parser<!--]--></a></h4><p><!--[-->The <code class=""><!--[-->Parser<!--]--></code> class is the bread and butter of the <em><!--[-->Apple Health Parser<!--]--></em> package. It is designed to parse the Apple Health export XML file. It inherits from the <code class=""><!--[-->Loader<!--]--></code> class, meaning that the end-user will never have to directly interact with the <code class=""><!--[-->Loader<!--]--></code> class as the <code class=""><!--[-->Parser<!--]--></code> class will already internally call the appropriate methods to extract the records from the <code class=""><!--[-->export.zip<!--]--></code> file.<!--]--></p><p><!--[-->There are a couple of important methods defined in <code class=""><!--[-->Parser<!--]--></code>, the most relevant one being the <code class=""><!--[-->get_flag_records<!--]--></code> method. In essence, this function requires a flag or list of flags - health metric(s) (e.g. <code class=""><!--[-->HKQuantityTypeIdentifierHeartRate<!--]--></code> represents heart rate records; <a href="https://alxdrcirilo.dev/apple-health-parser/usage/flags" rel="nofollow"><!--[-->table of supported flags<!--]--></a>), and it will return a <code class=""><!--[-->ParsedData<!--]--></code> object (or dictionary with keys as flags and values as <code class=""><!--[-->ParsedData<!--]--></code> objects). Furthermore, the function is decorated with a <code class=""><!--[-->@timeit<!--]--></code> decorator that will just print the execution time of the function to <code class=""><!--[-->stdout<!--]--></code>.<!--]--></p><!--[--><pre class="language-python shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#DCDCAA">@timeit
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">def</span><span style="--shiki-default:#DCDCAA"> get_flag_records</span><span style="--shiki-default:#D4D4D4">(
</span></span><span class="line" line="3"><span style="--shiki-default:#9CDCFE">    self</span><span style="--shiki-default:#D4D4D4">, </span><span style="--shiki-default:#9CDCFE">flag</span><span style="--shiki-default:#D4D4D4">: </span><span style="--shiki-default:#4EC9B0">str</span><span style="--shiki-default:#D4D4D4"> | list[</span><span style="--shiki-default:#4EC9B0">str</span><span style="--shiki-default:#D4D4D4">]
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4">) -&gt; ParsedData | dict[</span><span style="--shiki-default:#4EC9B0">str</span><span style="--shiki-default:#D4D4D4">, ParsedData]:
</span></span><span class="line" line="5"><span style="--shiki-default:#CE9178">    &quot;&quot;&quot;
</span></span><span class="line" line="6"><span style="--shiki-default:#CE9178">    Get parsed data based on the given flag.
</span></span><span class="line" line="7"><span emptylineplaceholder="true">
</span></span><span class="line" line="8"><span style="--shiki-default:#CE9178">    Args:
</span></span><span class="line" line="9"><span style="--shiki-default:#CE9178">        flag (str | list[str]): Flag to parse the records (e.g., `&quot;HKQuantityTypeIdentifierHeartRate&quot;`)
</span></span><span class="line" line="10"><span emptylineplaceholder="true">
</span></span><span class="line" line="11"><span style="--shiki-default:#CE9178">    Returns:
</span></span><span class="line" line="12"><span style="--shiki-default:#CE9178">        ParsedData | dict[str, ParsedData]: Parsed data based on the flag(s)
</span></span><span class="line" line="13"><span style="--shiki-default:#CE9178">    &quot;&quot;&quot;
</span></span><span class="line" line="14"><span emptylineplaceholder="true">
</span></span><span class="line" line="15"><span style="--shiki-default:#569CD6">    def</span><span style="--shiki-default:#DCDCAA"> _get_parsed_data</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#9CDCFE">flag</span><span style="--shiki-default:#D4D4D4">: </span><span style="--shiki-default:#4EC9B0">str</span><span style="--shiki-default:#D4D4D4">) -&gt; ParsedData:
</span></span><span class="line" line="16"><span style="--shiki-default:#D4D4D4">        sources = </span><span style="--shiki-default:#569CD6">self</span><span style="--shiki-default:#D4D4D4">.get_sources(</span><span style="--shiki-default:#9CDCFE">flag</span><span style="--shiki-default:#D4D4D4">=flag)
</span></span><span class="line" line="17"><span style="--shiki-default:#D4D4D4">        models = </span><span style="--shiki-default:#569CD6">self</span><span style="--shiki-default:#D4D4D4">._build_models(</span><span style="--shiki-default:#9CDCFE">flag</span><span style="--shiki-default:#D4D4D4">=flag)
</span></span><span class="line" line="18"><span style="--shiki-default:#D4D4D4">        dates = </span><span style="--shiki-default:#569CD6">self</span><span style="--shiki-default:#D4D4D4">._get_dates(</span><span style="--shiki-default:#9CDCFE">models</span><span style="--shiki-default:#D4D4D4">=models)
</span></span><span class="line" line="19"><span style="--shiki-default:#D4D4D4">        records = pd.DataFrame([model.model_dump() </span><span style="--shiki-default:#C586C0">for</span><span style="--shiki-default:#D4D4D4"> model </span><span style="--shiki-default:#C586C0">in</span><span style="--shiki-default:#D4D4D4"> models])
</span></span><span class="line" line="20"><span style="--shiki-default:#C586C0">        return</span><span style="--shiki-default:#D4D4D4"> ParsedData(</span><span style="--shiki-default:#9CDCFE">flag</span><span style="--shiki-default:#D4D4D4">=flag, </span><span style="--shiki-default:#9CDCFE">sources</span><span style="--shiki-default:#D4D4D4">=sources, </span><span style="--shiki-default:#9CDCFE">dates</span><span style="--shiki-default:#D4D4D4">=dates, </span><span style="--shiki-default:#9CDCFE">records</span><span style="--shiki-default:#D4D4D4">=records)
</span></span><span class="line" line="21"><span emptylineplaceholder="true">
</span></span><span class="line" line="22"><span style="--shiki-default:#C586C0">    if</span><span style="--shiki-default:#DCDCAA"> isinstance</span><span style="--shiki-default:#D4D4D4">(flag, </span><span style="--shiki-default:#4EC9B0">str</span><span style="--shiki-default:#D4D4D4">):
</span></span><span class="line" line="23"><span style="--shiki-default:#C586C0">        return</span><span style="--shiki-default:#D4D4D4"> _get_parsed_data(</span><span style="--shiki-default:#9CDCFE">flag</span><span style="--shiki-default:#D4D4D4">=flag)
</span></span><span class="line" line="24"><span emptylineplaceholder="true">
</span></span><span class="line" line="25"><span style="--shiki-default:#C586C0">    elif</span><span style="--shiki-default:#DCDCAA"> isinstance</span><span style="--shiki-default:#D4D4D4">(flag, </span><span style="--shiki-default:#4EC9B0">list</span><span style="--shiki-default:#D4D4D4">):
</span></span><span class="line" line="26"><span style="--shiki-default:#C586C0">        return</span><span style="--shiki-default:#D4D4D4"> {f: _get_parsed_data(</span><span style="--shiki-default:#9CDCFE">flag</span><span style="--shiki-default:#D4D4D4">=f) </span><span style="--shiki-default:#C586C0">for</span><span style="--shiki-default:#D4D4D4"> f </span><span style="--shiki-default:#C586C0">in</span><span style="--shiki-default:#D4D4D4"> flag}
</span></span></code><!--]--></pre><!--]--><blockquote><!--[--><p><!--[-->&quot;What is the <code class=""><!--[-->ParsedData<!--]--></code> object?&quot;<!--]--></p><!--]--></blockquote><p><!--[-->The <code class=""><!--[-->ParsedData<!--]--></code> object is a dataclass in Python designed to store parsed data from the Apple Health export file. It contains four fields: <code class=""><!--[-->flag<!--]--></code> (e.g. <code class=""><!--[-->&quot;HKQuantityTypeIdentifierHeartRate&quot;<!--]--></code>), <code class=""><!--[-->sources<!--]--></code> (e.g. <code class=""><!--[-->&quot;Alexandre&#39;s Apple Watch&quot;<!--]--></code>), <code class=""><!--[-->dates<!--]--></code> (set of <code class=""><!--[-->datetime.date<!--]--></code>), and <code class=""><!--[-->records<!--]--></code> (pandas DataFrame containing the actual records of the parsed data).<!--]--></p><!--[--><pre class="language-python shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#DCDCAA">@dataclass
</span></span><span class="line" line="2"><span style="--shiki-default:#569CD6">class</span><span style="--shiki-default:#4EC9B0"> ParsedData</span><span style="--shiki-default:#D4D4D4">:
</span></span><span class="line" line="3"><span style="--shiki-default:#CE9178">    &quot;&quot;&quot;
</span></span><span class="line" line="4"><span style="--shiki-default:#CE9178">    Dataclass to store parsed data from the Apple Health export file.
</span></span><span class="line" line="5"><span style="--shiki-default:#CE9178">    &quot;&quot;&quot;
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#D4D4D4">    flag: </span><span style="--shiki-default:#4EC9B0">str
</span></span><span class="line" line="8"><span style="--shiki-default:#D4D4D4">    sources: list[</span><span style="--shiki-default:#4EC9B0">str</span><span style="--shiki-default:#D4D4D4">]
</span></span><span class="line" line="9"><span style="--shiki-default:#D4D4D4">    dates: set[date]
</span></span><span class="line" line="10"><span style="--shiki-default:#D4D4D4">    records: pd.DataFrame
</span></span><span class="line" line="11"><span emptylineplaceholder="true">
</span></span><span class="line" line="12"><span style="--shiki-default:#569CD6">    def</span><span style="--shiki-default:#DCDCAA"> __str__</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#9CDCFE">self</span><span style="--shiki-default:#D4D4D4">) -&gt; </span><span style="--shiki-default:#4EC9B0">str</span><span style="--shiki-default:#D4D4D4">:
</span></span><span class="line" line="13"><span style="--shiki-default:#CE9178">        &quot;&quot;&quot;
</span></span><span class="line" line="14"><span style="--shiki-default:#CE9178">        String representation of the ParsedData class.
</span></span><span class="line" line="15"><span style="--shiki-default:#CE9178">        Includes the flag, sources, dates, and number of records.
</span></span><span class="line" line="16"><span emptylineplaceholder="true">
</span></span><span class="line" line="17"><span style="--shiki-default:#CE9178">        Returns:
</span></span><span class="line" line="18"><span style="--shiki-default:#CE9178">            str: String representation of the ParsedData class
</span></span><span class="line" line="19"><span style="--shiki-default:#CE9178">        &quot;&quot;&quot;
</span></span><span class="line" line="20"><span emptylineplaceholder="true">
</span></span><span class="line" line="21"><span style="--shiki-default:#D4D4D4">        description = [
</span></span><span class="line" line="22"><span style="--shiki-default:#569CD6">            f</span><span style="--shiki-default:#CE9178">&quot;</span><span style="--shiki-default:#569CD6">{</span><span style="--shiki-default:#CE9178">&#39;Flag:&#39;</span><span style="--shiki-default:#569CD6">:&lt;12}{self</span><span style="--shiki-default:#D4D4D4">.flag</span><span style="--shiki-default:#569CD6">}</span><span style="--shiki-default:#CE9178">&quot;</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="23"><span style="--shiki-default:#569CD6">            f</span><span style="--shiki-default:#CE9178">&quot;</span><span style="--shiki-default:#569CD6">{</span><span style="--shiki-default:#CE9178">&#39;Sources:&#39;</span><span style="--shiki-default:#569CD6">:&lt;12}{</span><span style="--shiki-default:#DCDCAA">len</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#569CD6">self</span><span style="--shiki-default:#D4D4D4">.sources)</span><span style="--shiki-default:#569CD6">}</span><span style="--shiki-default:#CE9178"> sources&quot;</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="24"><span style="--shiki-default:#569CD6">            f</span><span style="--shiki-default:#CE9178">&quot;</span><span style="--shiki-default:#569CD6">{</span><span style="--shiki-default:#CE9178">&#39;Dates:&#39;</span><span style="--shiki-default:#569CD6">:&lt;12}{</span><span style="--shiki-default:#DCDCAA">len</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#569CD6">self</span><span style="--shiki-default:#D4D4D4">.dates)</span><span style="--shiki-default:#569CD6">}</span><span style="--shiki-default:#CE9178"> dates&quot;</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="25"><span style="--shiki-default:#569CD6">            f</span><span style="--shiki-default:#CE9178">&quot;</span><span style="--shiki-default:#569CD6">{</span><span style="--shiki-default:#CE9178">&#39;Records:&#39;</span><span style="--shiki-default:#569CD6">:&lt;12}{</span><span style="--shiki-default:#DCDCAA">len</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#569CD6">self</span><span style="--shiki-default:#D4D4D4">.records)</span><span style="--shiki-default:#569CD6">}</span><span style="--shiki-default:#CE9178"> records&quot;</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="26"><span style="--shiki-default:#D4D4D4">        ]
</span></span><span class="line" line="27"><span emptylineplaceholder="true">
</span></span><span class="line" line="28"><span style="--shiki-default:#D4D4D4">        max_len = </span><span style="--shiki-default:#DCDCAA">len</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#DCDCAA">max</span><span style="--shiki-default:#D4D4D4">(description, </span><span style="--shiki-default:#9CDCFE">key</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#DCDCAA">len</span><span style="--shiki-default:#D4D4D4">))
</span></span><span class="line" line="29"><span style="--shiki-default:#D4D4D4">        description = [</span><span style="--shiki-default:#569CD6">f</span><span style="--shiki-default:#CE9178">&quot;</span><span style="--shiki-default:#569CD6">{</span><span style="--shiki-default:#CE9178">&#39;ParsedData&#39;</span><span style="--shiki-default:#569CD6">:=^{</span><span style="--shiki-default:#D4D4D4">max_len</span><span style="--shiki-default:#569CD6">}}</span><span style="--shiki-default:#CE9178">&quot;</span><span style="--shiki-default:#D4D4D4">] + description
</span></span><span class="line" line="30"><span emptylineplaceholder="true">
</span></span><span class="line" line="31"><span style="--shiki-default:#C586C0">        return</span><span style="--shiki-default:#CE9178"> &quot;</span><span style="--shiki-default:#D7BA7D">\n</span><span style="--shiki-default:#CE9178">&quot;</span><span style="--shiki-default:#D4D4D4">.join(description)
</span></span></code><!--]--></pre><!--]--><p><!--[-->It also includes a <code class=""><!--[-->__str__<!--]--></code> method to provide a string representation of the instance, detailing the flag, number of sources, dates, and records in a human-readable format.<!--]--></p><blockquote><!--[--><p><!--[-->💡 <strong><!--[-->Tip<!--]--></strong>: Using <a href="https://peps.python.org/pep-0498" rel="nofollow"><!--[-->f-string<!--]--></a> formatting (also called <em><!--[-->literal string interpolation<!--]--></em>), we can pretty print our string! Here&#39;s a very useful <a href="https://fstring.help/cheat" rel="nofollow"><!--[-->cheatsheet<!--]--></a>.<!--]--></p><!--]--></blockquote><p><!--[-->When you print a <code class=""><!--[-->ParsedData<!--]--></code> object, you will see something similar to the following in your terminal:<!--]--></p><!--[--><pre class="language-shell shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">&gt; print(</span><span style="--shiki-default:#DCDCAA">parsed_data</span><span style="--shiki-default:#D4D4D4">)
</span></span><span class="line" line="2"><span style="--shiki-default:#CE9178">=====================ParsedData=====================
</span></span><span class="line" line="3"><span style="--shiki-default:#DCDCAA">Flag:</span><span style="--shiki-default:#CE9178">       HKQuantityTypeIdentifierRestingHeartRate
</span></span><span class="line" line="4"><span style="--shiki-default:#DCDCAA">Sources:</span><span style="--shiki-default:#B5CEA8">    3</span><span style="--shiki-default:#CE9178"> sources
</span></span><span class="line" line="5"><span style="--shiki-default:#DCDCAA">Dates:</span><span style="--shiki-default:#B5CEA8">      144</span><span style="--shiki-default:#CE9178"> dates
</span></span><span class="line" line="6"><span style="--shiki-default:#DCDCAA">Records:</span><span style="--shiki-default:#B5CEA8">    145</span><span style="--shiki-default:#CE9178"> records
</span></span></code><!--]--></pre><!--]--><p><!--[-->Coming back to the <code class=""><!--[-->get_flag_records<!--]--></code> method, now that we now what <code class=""><!--[-->ParsedData<!--]--></code> represents, we see that it actually just performs a series of tasks by calling the appropriate methods to generate <code class=""><!--[-->ParsedData<!--]--></code> object(s).<!--]--></p><p><!--[-->One line is particularly important:<!--]--></p><!--[--><pre class="language-python shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#D4D4D4">models = </span><span style="--shiki-default:#569CD6">self</span><span style="--shiki-default:#D4D4D4">._build_models(</span><span style="--shiki-default:#9CDCFE">flag</span><span style="--shiki-default:#D4D4D4">=flag)
</span></span></code><!--]--></pre><!--]--><p><!--[-->This is essentially the data validation step. Under the hood, this private method is responsible for building <a href="https://docs.pydantic.dev" rel="nofollow"><!--[--><code class=""><!--[-->Pydantic<!--]--></code><!--]--></a> models, which leads us to the next subsection.<!--]--></p><h5 id="data-validation-using-pydantic-models"><!--[-->Data validation using Pydantic models<!--]--></h5><p><!--[-->An Apple Health record (in this case, heart rate record) looks something like this:<!--]--></p><!--[--><pre class="language-xml shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#808080">&lt;</span><span style="--shiki-default:#569CD6">Record</span><span style="--shiki-default:#9CDCFE"> type</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;HKQuantityTypeIdentifierHeartRate&quot;</span><span style="--shiki-default:#9CDCFE"> sourceName</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;Alexandre’s Apple Watch&quot;</span><span style="--shiki-default:#9CDCFE"> sourceVersion</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;10.2&quot;</span><span style="--shiki-default:#9CDCFE"> device</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;..., name:Apple Watch, manufacturer:Apple Inc., model:Watch, hardware:Watch6,7, software:10.2</span><span style="--shiki-default:#569CD6">&amp;gt;</span><span style="--shiki-default:#CE9178">&quot;</span><span style="--shiki-default:#9CDCFE"> unit</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;count/min&quot;</span><span style="--shiki-default:#9CDCFE"> creationDate</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;2024-01-01 01:01:42 +0200&quot;</span><span style="--shiki-default:#9CDCFE"> startDate</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;2024-01-01 01:01:36 +0200&quot;</span><span style="--shiki-default:#9CDCFE"> endDate</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;2024-01-01 01:01:36 +0200&quot;</span><span style="--shiki-default:#9CDCFE"> value</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;74&quot;</span><span style="--shiki-default:#808080">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#808080">    &lt;</span><span style="--shiki-default:#569CD6">MetadataEntry</span><span style="--shiki-default:#9CDCFE"> key</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;HKMetadataKeyHeartRateMotionContext&quot;</span><span style="--shiki-default:#9CDCFE"> value</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;0&quot;</span><span style="--shiki-default:#808080">/&gt;
</span></span><span class="line" line="3"><span style="--shiki-default:#808080">&lt;/</span><span style="--shiki-default:#569CD6">Record</span><span style="--shiki-default:#808080">&gt;
</span></span></code><!--]--></pre><!--]--><p><!--[-->In <em><!--[-->Apple Health Parser<!--]--></em>, models are defined in <a href="https://github.com/alxdrcirilo/apple-health-parser/blob/main/apple_health_parser/models/records.py" rel="nofollow"><!--[--><code class=""><!--[-->records.py<!--]--></code><!--]--></a> and used to validate data from the records like the one shown above.<!--]--></p><p><!--[-->As an example, let&#39;s take a look at the <code class=""><!--[-->HeartRateData<!--]--></code> model which is derived from the <code class=""><!--[-->HealthData<!--]--></code> model.<!--]--></p><!--[--><pre class="language-python shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#569CD6">class</span><span style="--shiki-default:#4EC9B0"> MotionContext</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#4EC9B0">StrEnum</span><span style="--shiki-default:#D4D4D4">):
</span></span><span class="line" line="2"><span style="--shiki-default:#D4D4D4">    UNSET = </span><span style="--shiki-default:#CE9178">&quot;0&quot;
</span></span><span class="line" line="3"><span style="--shiki-default:#D4D4D4">    SEDENTARY = </span><span style="--shiki-default:#CE9178">&quot;1&quot;
</span></span><span class="line" line="4"><span style="--shiki-default:#D4D4D4">    ACTIVE = </span><span style="--shiki-default:#CE9178">&quot;2&quot;
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#569CD6">class</span><span style="--shiki-default:#4EC9B0"> HeartRateData</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#4EC9B0">HealthData</span><span style="--shiki-default:#D4D4D4">):
</span></span><span class="line" line="8"><span style="--shiki-default:#D4D4D4">    device: </span><span style="--shiki-default:#4EC9B0">str</span><span style="--shiki-default:#D4D4D4"> = Field(</span><span style="--shiki-default:#9CDCFE">title</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;Device&quot;</span><span style="--shiki-default:#D4D4D4">, </span><span style="--shiki-default:#9CDCFE">description</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;Device used for measurement&quot;</span><span style="--shiki-default:#D4D4D4">)
</span></span><span class="line" line="9"><span style="--shiki-default:#D4D4D4">    motion_context: </span><span style="--shiki-default:#4EC9B0">str</span><span style="--shiki-default:#D4D4D4"> = Field(
</span></span><span class="line" line="10"><span style="--shiki-default:#9CDCFE">        alias</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;motionContext&quot;</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="11"><span style="--shiki-default:#9CDCFE">        title</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;Motion Context&quot;</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="12"><span style="--shiki-default:#9CDCFE">        description</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;Context of motion (e.g. sedentary, active, unset)&quot;</span><span style="--shiki-default:#D4D4D4">,
</span></span><span class="line" line="13"><span style="--shiki-default:#9CDCFE">        examples</span><span style="--shiki-default:#D4D4D4">=[</span><span style="--shiki-default:#CE9178">&quot;Unset&quot;</span><span style="--shiki-default:#D4D4D4">, </span><span style="--shiki-default:#CE9178">&quot;Sedentary&quot;</span><span style="--shiki-default:#D4D4D4">, </span><span style="--shiki-default:#CE9178">&quot;Active&quot;</span><span style="--shiki-default:#D4D4D4">],
</span></span><span class="line" line="14"><span style="--shiki-default:#D4D4D4">    )
</span></span><span class="line" line="15"><span emptylineplaceholder="true">
</span></span><span class="line" line="16"><span style="--shiki-default:#DCDCAA">    @field_validator</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#CE9178">&quot;motion_context&quot;</span><span style="--shiki-default:#D4D4D4">, </span><span style="--shiki-default:#9CDCFE">mode</span><span style="--shiki-default:#D4D4D4">=</span><span style="--shiki-default:#CE9178">&quot;before&quot;</span><span style="--shiki-default:#D4D4D4">)
</span></span><span class="line" line="17"><span style="--shiki-default:#DCDCAA">    @</span><span style="--shiki-default:#4EC9B0">classmethod
</span></span><span class="line" line="18"><span style="--shiki-default:#569CD6">    def</span><span style="--shiki-default:#DCDCAA"> check_motion_context</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#9CDCFE">cls</span><span style="--shiki-default:#D4D4D4">, </span><span style="--shiki-default:#9CDCFE">v</span><span style="--shiki-default:#D4D4D4">: </span><span style="--shiki-default:#4EC9B0">str</span><span style="--shiki-default:#D4D4D4">) -&gt; </span><span style="--shiki-default:#4EC9B0">str</span><span style="--shiki-default:#D4D4D4">:
</span></span><span class="line" line="19"><span style="--shiki-default:#C586C0">        return</span><span style="--shiki-default:#D4D4D4"> MotionContext(v).name.lower().capitalize()
</span></span></code><!--]--></pre><!--]--><p><!--[-->The <code class=""><!--[-->HeartRateData<!--]--></code> model defines all the fields defined in the <code class=""><!--[-->HealthData<!--]--></code> model and extends it by adding two additional fields: <code class=""><!--[-->device<!--]--></code>, and <code class=""><!--[-->motion_context<!--]--></code>. The former is self-explanatory, whilst the latter defines the type of motion context associated with the heart rate record - i.e. &quot;unknown&quot;, &quot;sedentary&quot;, or &quot;active&quot;. To represent the motion context, we use a <a href="https://docs.python.org/3/library/enum.html#enum.StrEnum" rel="nofollow"><!--[--><code class=""><!--[-->StrEnum<!--]--></code><!--]--></a>. Notice that there is a method <code class=""><!--[-->check_motion_context<!--]--></code> decorated with <code class=""><!--[-->@field_validator<!--]--></code>. The <code class=""><!--[-->mode=&quot;before&quot;<!--]--></code> argument specifies that this validation should be performed before the field is set. This method is responsible for setting the appropriate motion context into a human-readable format (e.g. <code class=""><!--[-->&quot;Active&quot;<!--]--></code>) in the <code class=""><!--[-->motion_context<!--]--></code> field.<!--]--></p><p><!--[-->Using Pydantic models ensures that the records parsed from the XML file are correctly structured and valid according to the defined models. This adds a layer of robustness and maintainability to the data parsing logic. This way, if something with the data is unexpected or missing, we can catch it early at the source.<!--]--></p><h4 id="plot"><a href="#plot"><!--[-->Plot<!--]--></a></h4><p><!--[-->The <code class=""><!--[-->Plot<!--]--></code> class plays a central role in the <em><!--[-->Apple Health Parser<!--]--></em> package. But before we can actually plot anything, we need the data to be preprocessed. For this, I picked <a href="https://pandas.pydata.org/" rel="nofollow"><!--[--><code class=""><!--[-->pandas<!--]--></code><!--]--></a>, a widely adopted data analysis library that integrates very well with <code class=""><!--[-->plotly<!--]--></code>. The data preprocessing naturally comes after data validation using <code class=""><!--[-->pydantic<!--]--></code>, i.e. after the models have been built and validated. Most data will be similar, with some variations for special cases (e.g. heart rate data has <code class=""><!--[-->motion context<!--]--></code> metadata, sleep data has <code class=""><!--[-->sleep phases<!--]--></code> metadata, etc.). Same goes for plotting, with most plots being similar in the way they are generated with slight variations (e.g. x-axis column name of the pandas DataFrame, title, legend, etc.). And this leads to a really cool concept in programming: <em><!--[-->interfaces<!--]--></em>.<!--]--></p><h5 id="interfaces"><!--[-->Interfaces<!--]--></h5><p><!--[-->In simple terms, an <em><!--[-->interface<!--]--></em> defines a set of abstract methods that a class must implement. This ensures that any class that implements the interface will have a certain set of functionalities. It gives us the ability to define how a class should look without specifying the details of the implementation. Furthermore, it can also help us avoid unnecessary code duplication, promoting the use of <em><!--[-->polymorphism<!--]--></em> - classes can be treated through the same interface despite having different internal implementations. If you think of it at a high level, an interface is like a blueprint that you can reuse all over your codebase.<!--]--></p><p><!--[-->There are multiple ways to define an interface in Python, but for this project I decided to make use of <a href="https://docs.python.org/3/library/abc.html" rel="nofollow"><!--[-->Abstract Base Classes<!--]--></a>, also called <em><!--[-->ABCs<!--]--></em>.<!--]--></p><blockquote><!--[--><p><!--[-->🔍 <strong><!--[-->Note<!--]--></strong>: In Python, abstract methods are defined by decorating a method with <a href="https://docs.python.org/3/library/abc.html#abc.abstractmethod" rel="nofollow"><!--[--><code class=""><!--[-->@abstractmethod<!--]--></code><!--]--></a>.<!--]--></p><!--]--></blockquote><p><!--[-->In <em><!--[-->Apple Health Parser<!--]--></em>, the <code class=""><!--[-->Plot<!--]--></code> class inherits from <code class=""><!--[-->PlotInterface<!--]--></code>. Here&#39;s part of what this interface looks like:<!--]--></p><!--[--><pre class="language-python shiki shiki-themes dark-plus" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#C586C0">from</span><span style="--shiki-default:#D4D4D4"> abc </span><span style="--shiki-default:#C586C0">import</span><span style="--shiki-default:#D4D4D4"> ABC, abstractmethod
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#569CD6">class</span><span style="--shiki-default:#4EC9B0"> PlotInterface</span><span style="--shiki-default:#D4D4D4">(ABC):
</span></span><span class="line" line="4"><span style="--shiki-default:#DCDCAA">    @abstractmethod
</span></span><span class="line" line="5"><span style="--shiki-default:#569CD6">    def</span><span style="--shiki-default:#DCDCAA"> _get_figure</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#9CDCFE">self</span><span style="--shiki-default:#D4D4D4">, </span><span style="--shiki-default:#9CDCFE">data</span><span style="--shiki-default:#D4D4D4">):
</span></span><span class="line" line="6"><span style="--shiki-default:#6A9955">        # Implement case-specific method to get figure
</span></span><span class="line" line="7"><span style="--shiki-default:#D4D4D4">    
</span></span><span class="line" line="8"><span style="--shiki-default:#569CD6">    def</span><span style="--shiki-default:#DCDCAA"> plot</span><span style="--shiki-default:#D4D4D4">(</span><span style="--shiki-default:#9CDCFE">self</span><span style="--shiki-default:#D4D4D4">):
</span></span><span class="line" line="9"><span style="--shiki-default:#D4D4D4">        figure = </span><span style="--shiki-default:#569CD6">self</span><span style="--shiki-default:#D4D4D4">._get_figure()
</span></span><span class="line" line="10"><span style="--shiki-default:#6A9955">        # Do something with figure
</span></span></code><!--]--></pre><!--]--><p><!--[-->We use the <code class=""><!--[-->@abstractmethod<!--]--></code> decorator to make the <code class=""><!--[-->_get_figure<!--]--></code> method abstract, i.e. any subclass of <code class=""><!--[-->PlotInterface<!--]--></code> needs to implement <code class=""><!--[-->_get_figure<!--]--></code>. You&#39;ll notice that there is also another method in this example - the <code class=""><!--[-->plot<!--]--></code> method. This is a regular (or <em><!--[-->concrete<!--]--></em>) method - a method that provides a concrete implementation. This method is designed to call the <code class=""><!--[-->_get_figure<!--]--></code> method to obtain a figure and them perform a set of operations that are ubiquitous to any possible subclass of <code class=""><!--[-->PlotInterface<!--]--></code>, i.e. showing and saving the plot. This way, we do not need to implement it in subclasses of <code class=""><!--[-->PlotInterface<!--]--></code>. On the other hand, <code class=""><!--[-->_get_figure<!--]--></code> is case-specific, e.g. heatmaps have different requirements than standard plots (e.g. scatter plots) in the <code class=""><!--[-->plotly<!--]--></code> library.<!--]--></p><h3 id="cicd"><a href="#cicd"><!--[-->CI/CD<!--]--></a></h3><p><!--[-->This project was the first time I went the extra mile to set up proper CI/CD<sup><a aria-current="page" href="/blog/2024/apple_health_parser#user-content-fn-3" class="router-link-active router-link-exact-active" aria-describedby="footnote-label" data-footnote-ref id="user-content-fnref-3"><!--[-->3<!--]--></a></sup>. CI/CD done right can have a tremendous impact on a project, including: faster release cycles (thanks to automated testing, formatting, and linting) and bug detection, increased reliability (less human error), and immediate feedback, among others.<!--]--></p><p><!--[-->This project is hosted on GitHub and makes use of GitHub Actions - a CI/CD platform to automate build, test, and deployment pipelines defined in so-called <em><!--[-->workflows<!--]--></em>. For the <em><!--[-->Apple Health Parser<!--]--></em> package, I&#39;ve defined <a href="https://github.com/alxdrcirilo/apple-health-parser/tree/main/.github/workflows" rel="nofollow"><!--[-->four workflows<!--]--></a>:<!--]--></p><ul><!--[--><li><!--[-->Commit lint and semantic versioning (using <a href="https://github.com/wagoid/commitlint-github-action" rel="nofollow"><!--[--><code class=""><!--[-->commitlint<!--]--></code><!--]--></a> and <a href="https://github.com/python-semantic-release/python-semantic-release" rel="nofollow"><!--[--><code class=""><!--[-->python-semantic-release<!--]--></code><!--]--></a>)<!--]--></li><li><!--[-->Unit test coverage (using <code class=""><!--[-->pytest<!--]--></code> and <code class=""><!--[-->pytest-cov<!--]--></code>, with the coverage report uploaded to <a href="https://coveralls.io/github/alxdrcirilo/apple-health-parser?branch=main" rel="nofollow"><!--[-->Coveralls<!--]--></a>)<!--]--></li><li><!--[-->Deploy documentation to GitHub Pages (using <a href="https://www.mkdocs.org/" rel="nofollow"><!--[--><code class=""><!--[-->mkdocs<!--]--></code><!--]--></a>)<!--]--></li><li><!--[-->Publish to <a href="https://pypi.org" rel="nofollow"><!--[-->PyPI<!--]--></a> (using <a href="https://github.com/JRubics/poetry-publish" rel="nofollow"><!--[--><code class=""><!--[-->poetry-publish<!--]--></code><!--]--></a>)<!--]--></li><!--]--></ul><h2 id="outro"><a href="#outro"><!--[-->Outro<!--]--></a></h2><p><!--[-->If you&#39;re interested in reading more about interfaces, and abstract base classes in particular, I highly recommend the following reads:<!--]--></p><ul><!--[--><li><!--[--><a href="https://stackoverflow.com/a/53213772" rel="nofollow"><!--[-->&quot;Is it a good practice to put common methods to an abstract class in Python?&quot;<!--]--></a> - Stack Overflow<!--]--></li><li><!--[--><a href="https://realpython.com/python-interface" rel="nofollow"><!--[-->Implementing an Interface in Python<!--]--></a> - RealPython<!--]--></li><!--]--></ul><section class="footnotes" data-footnotes><h2 id="footnote-label" class="sr-only"><a href="#footnote-label"><!--[-->Footnotes<!--]--></a></h2><ol><!--[--><li id="user-content-fn-1"><!--[-->From the <code class=""><!--[-->export.zip<!--]--></code> file you can generate from the <code class=""><!--[-->Health<!--]--></code> app on your iPhone <a aria-current="page" href="/blog/2024/apple_health_parser#user-content-fnref-1" class="router-link-active router-link-exact-active data-footnote-backref" aria-label="Back to reference 1" data-footnote-backref><!--[-->↩<!--]--></a><!--]--></li><li id="user-content-fn-2"><!--[-->Comma-separated values <a aria-current="page" href="/blog/2024/apple_health_parser#user-content-fnref-2" class="router-link-active router-link-exact-active data-footnote-backref" aria-label="Back to reference 2" data-footnote-backref><!--[-->↩<!--]--></a><!--]--></li><li id="user-content-fn-3"><!--[-->Continuous Integration/Continuous Deployment <a aria-current="page" href="/blog/2024/apple_health_parser#user-content-fnref-3" class="router-link-active router-link-exact-active data-footnote-backref" aria-label="Back to reference 3" data-footnote-backref><!--[-->↩<!--]--></a><!--]--></li><!--]--></ol></section><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><!--]--></div><!--]--><footer><hr style="margin-bottom:20px;"> © 2024 Alexandre Cirilo. Powered by <a href="https://nuxt.com/"><strong>Nuxt</strong></a>. </footer></div></div></div></div></div></div><div id="teleports"></div><script type="application/json" id="__NUXT_DATA__" data-ssr="true" data-src="/blog/2024/apple_health_parser/_payload.json?779fd26d-f086-4fcc-9b46-89e6feb13a04">[{"state":1,"once":7,"_errors":8,"serverRendered":5,"path":11,"prerenderedAt":12},["Reactive",2],{"$scolor-mode":3},{"preference":4,"value":4,"unknown":5,"forced":6},"light",true,false,["Set"],["ShallowReactive",9],{"content-query-yggzf3qBn7":10},null,"/blog/2024/apple_health_parser",1722929342519]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{useNuxtImage:true,components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1722929337799,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"dark-plus"},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"/",buildId:"779fd26d-f086-4fcc-9b46-89e6feb13a04",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>